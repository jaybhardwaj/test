 <title>Candidates</title>
 

<html>
<head>

<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <style type="text/css">
 .logoheading {
      color: #66CAEC;
    font-size: 23px;
    font-weight: bold;
    
    text-shadow: 1px 0px #66caec;
    }
    </style>

</head>
<body style="background-color:white;overflow-x:hidden;">

<nav class="navbar navbar-default navbar-fixed-top" style="margin-bottom: 0;">
<div class="col-lg-12">

    <div class="col-lg-2">
  <a href="/portal" > <img src="/images/brand_logo.gif" height="70" width="70"/></a>
    </div>
 <div class="col-lg-8" >
         <center> <h3 class="logoheading">Recruitment System</h3></center>
    </div>
    <div class="col-lg-2">
    <ul class="nav navbar-nav navbar-right" style="margin-top: 13px;">         
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"> <span class="caret"></span></a>
          <ul class="dropdown-menu forAnimate" role="menu">
            <li><a href="#">Change Password</a></li>
            <li><a href="/logout">Logout</a></li>
           </ul>
        </li>
     </ul>

    </div>
    
    </div>

</nav>



</body>
</html>

 
 
  <!--  <link href="/Bootstrap/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">  
  -->
<style>
  .fa-trash-o{
      position: relative;
    padding-top: 3%;
    right: -9%;
  }

.textmargintop{
  margin-top:10px;
}

.title{
  color:black;
  font-size: 16px;
  margin-left: 40%;
  font-family: ‘Arial Black’, Gadget, sans-serif;
}
.btn-default{
  background-color:#41A8B3 !important;
  color:white;
  margin-top:10px;
  margin-bottom:10px;
  height:40px;
}
.btn-default:hover{
  background-color:#41A8B3 !important;
  color:white;
}
</style>


<style>
  /* form starting stylings ------------------------------- */
  select option{
    color:gray;
    font-size: 13px
  }
  
    .md-input-container        { 
      position:relative; 
      margin: 30px 0 10px;
    }
    input, select         {
      padding:3px 0 6px 0px;
      /*display:block;
      width:100%;*/
      border:none;
      border-bottom:1px solid #ddd;
      background: none;
    }
    select{
      margin-top: 7px;
      
    }
    select[multiple]{
      /*background-color: red;*/
      color: white;
      margin-top: 0;
    }

    input:focus, select:focus {
      border-bottom: 1px solid #068bc2;
      outline: medium none;
    }
label{
  font-size: 13px;  
  }

    input[type=date] {
      background-image:url(../images/calendar.png);
      background-position:right center;
      background-repeat:no-repeat;
    }
body{
  background-color: white:!important;
}
.button{
  background-color:#66caec !important;
  border-bottom:2px solid #2B6173 !important;
}
#main-menu{
  margin-top:5.56% !important;    
  height:81.4% !important;
}
thead th{
  text-align: center;
  background-color:#7FCEE6;
  color:#4D4E50;
}
 td{
   max-width: 110px;
 word-wrap: break-word;   
  text-align: center;
}

/* history tab */
 .tip {
  width: 0px;
  height: 0px;
  position: absolute;
  background: transparent;
  border: 10px solid #00B9F5;
}
.tip-right {
  top: -3px;
  right: -25px;
  border-top-color: transparent;
  border-right-color: transparent;
  border-bottom-color: transparent;  
}
.dialogbox .body {
  position: relative;
  /*max-width: 300px;*/
  height: auto;
  margin: 20px 10px;
  /*padding: 5px;*/
  background-color: #00B9F5;
  border-radius: 3px;
  border: 5px solid #00B9F5;
}

.body .message {
  /*min-height: 30px;*/
  border-radius: 3px;
  font-family: Arial;
  font-size: 10px;
  line-height: 1.5;
  color: #fff;
}
.verticalLine0 {
    border-left: thick solid #F3B293;
}
.verticalLine1 {
    border-left: thick solid #95CCF1;
}
.verticalLine2 {
    border-left: thick solid #B1F3BC;
}
.verticalLine3 {
    border-left: thick solid #EAA4AE;
}
.verticalLine4 {
    border-left: thick solid #F3EC96;
}
.verticalLine5 {
    border-left: thick solid #F3B293;
}

html {
  margin: 30px;
}
 .chosen-choices {
                    background: none !important;
                    background: white;
                    border: none !important;
                    border-bottom: 1px solid #e1e1e1 !important;
                }
                
                .chosen-single,
                .chosen-drop,
                .chosen-choices li.search-choice {
                    border-radius: 0px !important;
                    box-shadow: none !important;
                }
                .chosen-container{
                  width:100%!important;
                }
/*----------------Upload resume button------------------------------*/
/*.foo {
    display: block;
    position: relative;
    width: 300px;
    margin: auto;
    cursor: pointer;
    border: 0;
    height: 60px;
    border-radius: 5px;
    outline: 0;
}
.foo:hover:after {
    background: #5978f8;
}
.foo:after {
    transition: 200ms all ease;
    border-bottom: 3px solid rgba(0,0,0,.2);
    background: #3c5ff4;
    text-shadow: 0 2px 0 rgba(0,0,0,.2);
    color: #fff;
    font-size: 15px;
    text-align: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 45%;
    height: 80%;
    display: block;
    content: 'Upload Resume';
    line-height: 60px;
    border-radius: 5px;
}*/

/*.file-upload {
  position: relative;
  overflow: hidden;

  border-radius: 3px !important;
  background: #ff0000;
  text-transform: uppercase;
  font-size: 13px;
  border:none !important;
  box-shadow: none !important;
  color: #fff !important;
  text-shadow:none;
  padding: 5px 10px !important;
  font-family: Arial, sans-serif;
  display: inline-block;
  vertical-align: middle;

}
.file-upload input.upload {
  position: absolute;
  top: 0;
  right: 0;
  margin: 0;
  padding: 0;
  font-size: 20px;
  cursor: pointer;
  opacity: 0;
  filter: alpha(opacity=0);
}*/

.fileUpload {
    position: relative;
    overflow: hidden;
    margin: 10px;
}
.fileUpload input.upload {
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    padding: 0;
    font-size: 20px;
    cursor: pointer;
    opacity: 0;
    filter: alpha(opacity=0);
}
</style>
<div id="page-content" style="margin-top:4%"> 
  <div style="width:100%;font-size:12px" >   
    
  <div style="width:100%;height:70px">
    <table style="width:100%;height:70px">
      <tr style='font-size:12px'>
        <td style="border:2px solid #2cb8e5;width:75%">

    <div style="width:95%;height:100%">

      <div style=width:90%;float:left id="searchdiv" >
        <input type=text name="gsearch" id="gsearch" style='width:90%;margin-top:23px' placeholder="Search candidate based on there Name,Location,Email ">
          <img src="../images/candidate_search.png" id="gsearchimg" onclick="GetData();" height="33px" style="cursor:pointer;margin-top:25px;margin-right:18px;float:right;">
       </div>

       <div style=width:10%;float:right>
            <lable id="toglesearch" style="float:right;margin-top:30px;margin-right:5px;cursor:pointer"><a onclick="a2qsearch()" style="color:grey">Advance Search</a></label>
        </div>

       <div style="width:90%;float:left;" class="hide" id="aSearchdiv">
          <table style='width:100%'>
            <tr style='font-size:14px'>
                <td>
                    <div class='md-input-container'>
                        <input id='sname' name='sname' style="float:left" >
                        <label>Candidate Name<sup></sup></label>
                    </div>
                </td>
                <td>
                    <div class='md-input-container'>
                        <input   id='semail' name='semail' style="float:left">
                        <label>Email<sup></sup></label>

                       <!--  <input  s id='sphone' name='sphone' style="float:left">
                        <label>Phone Number<sup></sup> -->
                        </label>
                    </div>
                </td>
                <td>
                    <div class='md-input-container'>
                        <input   id='slocation' name='slocation' style="float:left">
                        <label>Location<sup></sup></label>
                    </div>
                </td>
                <td>
                    <div class='md-input-container'>
                        <input   id='jdtitle' name='jdtitle' style="float:left">
                        <label>JD Title<sup></sup></label>
                    </div>
                </td>
                <td>
                    <img id="asearchimg" onclick='aSearch()' src='./images/candidate_search.png' height='33px' style="margin-top:25px;margin-right:18px;float:right;cursor:pointer"> </td>
            </tr>
        </table>
       </div>
      
     </div>
   </td>  
  </tr>  
 
</table> 
</div>
</div>
<div>
 <table style="height:40px;width:70%;float:left">
      <tr>
          <td><a id="quick" style="cursor:pointer;color:grey;float:left">Quick Tagging</a></td>
          <td class="hide" id="qmgrdiv" style="padding-left:10px">
              <section id="details-filter"  >
                  <div class="md-input-container ">
                      <select style="color:black;width:200px;float:left"   onchange="qreleventTag()" id="qmgrdropdown" name="mgrdropdown">
                      </select>
                      <label>Manager's<sup>*</sup></label>
                  </div>
              </section>
          </td>
          <td id="qjddiv" style="" class="hide" >
              <section id="details-filter" >
                  <div class="md-input-container ">
                      <select id="qselecttag" style="color:black;width:200px" name="selecttag">
               
                      </select>
                      <label>JD's<sup>*</sup></label>
                  </div>
              </section>
          </td>
          
            <td style="padding-left:5px" id="qsdiv" class="hide"  >              
              <button type="submit" value="Save" id="qsave" class=" btn waves-effect waves-light" onclick="return savequicktag()" style = "background-color:#00B9F5;color:white;margin-top:15px" value="Save"><i class="fa fa-save"></i> <b>Save</b></button>  
            </td>
      </tr>
  </table>
</div>



     <div style="width:100%;margin-bottom:5%;" >                         
                <table id="openreqstate" class="cell-border" style="font-size:13px" width="100%;margin-top:-15px"></table>             
     </div> 
   
  </div>
  
</div>
<!---------------Edit Info------------>
<div class="modal fade" id="edit" data-backdrop="static" data-keyboard="false" style="padding-right:20%">
        <div class="modal-dialog">
            <!-- Modal content-->
          <div class="modal-content"  id="express2" style="width:150%;height:60%">
                <div class="modal-header" style="background-color:#2CB8E5;height:40px">
                    <center>
                        <h4 id="head4" class="modal-title" style="color:#052F71;font-size:14pt;width:auto;margin-top:-5px"><b>Edit Information </b><a id="closeedit" >
                     <span  class='glyphicon glyphicon-remove closeedit' data-dismiss="modal" style='color:#06394A;height:20px;float:right'title ='Close' > 
                  </a> </h4>
                    </center>  
                                      
                </div>
        <form action="/editCandidate" method="post">        
            <div class="modal-body" style = 'height:50%;'>
              <input type="hidden" name="hcid"   id="hcid" >
              <table style="width:100%">
                <tr>
                  <td >
                   <div class="md-input-container " >
                      <input name="name"  id="name" maxlength="100" style="width:95%" >                      
                      <label>Name<sup>*</sup></label>
                   </div>
                  </td>
                  <td >
                   <div class="md-input-container ">
                      <input name="phone"  id="phone" maxlength="10" minlength="10" style="width:95%">
                      <label>Phone No.<sup>*</sup></label>
                   </div>
                 </td>
                     <td >
                       <div class="md-input-container ">
                          <input name="years" class="used" type="number"  id="years" maxlength="100" style="width:41%;" placeholder="Years">
                          <label>Experience :<sup></sup></label>
                          <input name="months" type="number"  id="months" maxlength="100" style="width:41%" placeholder="Months">
                       </div>
                    </td>
                </tr>
                <tr>
                   <td >
                     <div class="md-input-container ">
                        <input name="email"  id="email" maxlength="100" style="width:95%">
                        <label>Email id<sup>*</sup></label>
                     </div>
                    </td>
                 
                    <td>
                        <section id="details-filter" class="">
                         <div class="md-input-container ">
                            <select id='locationId' name="locationId" style="width:83%">
                              <option value = 'null'></option>
                                    
                                        <option id="location_1" value="1">
                                            ghaziabad
                                        </option>
                                        
                                        <option id="location_2" value="2">
                                            noida
                                        </option>
                                        
                                        <option id="location_3" value="3">
                                            delhi
                                        </option>
                                        
                                        <option id="location_4" value="4">
                                            mumbai
                                        </option>
                                        
                                        <option id="location_5" value="5">
                                            chennai
                                        </option>
                                        
                            </select> 
                            <label id="">Current Location<sup>*</sup></label>
                         </div>
                       </section>
                    </td>
                      <td colspan="2">
                     <div class="md-input-container ">
                        <input name="clocation"  id="clocation" maxlength="300" style="width:95%">
                        <label>Current Address<sup></sup></label>
                     </div>
                    </td>
                    </tr>
                
                 <tr>
                  <td>
                     <div class="md-input-container ">
                        <select size="1" multiple class="chosen-select" style="width:100%" id='skillsId' name="skills">
                            <option value = 'null'></option>
                            
                                <option id="skills_1" value="1">
                                    C++
                                </option>
                                
                                <option id="skills_2" value="2">
                                    C#
                                </option>
                                
                                <option id="skills_3" value="3">
                                    Node js
                                </option>
                                
                                <option id="skills_4" value="4">
                                    SQL
                                </option>
                                
                                <option id="skills_5" value="5">
                                    Jquery
                                </option>
                                
                                <option id="skills_6" value="6">
                                    JavaScript
                                </option>
                                
                                <option id="skills_7" value="7">
                                    java
                                </option>
                                
                                <option id="skills_8" value="8">
                                    html
                                </option>
                                
                                <option id="skills_9" value="9">
                                    css
                                </option>
                                
                                <option id="skills_10" value="10">
                                    ios
                                </option>
                                
                                <option id="skills_11" value="11">
                                    android
                                </option>
                                
                                <option id="skills_12" value="12">
                                    python
                                </option>
                                
                                <option id="skills_13" value="13">
                                    php
                                </option>
                                
                                <option id="skills_14" value="14">
                                    qlik
                                </option>
                                
                                <option id="skills_15" value="15">
                                    salesforce
                                </option>
                                

                        </select>
                        <label id="lski">Skills<sup>*</sup></label>
                    </div>
                  </td>
                      <td colspan="1">
                     <div class="md-input-container ">
                        <input name="qualification"  id="qualification" maxlength="100" style="width:95%">
                        <label>Qualification<sup></sup></label>
                     </div>
                    </td>
                     <td colspan="2">
                     <div class="md-input-container ">
                        <input name="institute"  id="institute" maxlength="100" style="width:95%">
                        <label>Institute<sup></sup></label>
                     </div>
                    </td>
                </tr>
                <tr>
                <td>
                <center style = ' margin-left: 94%;width: 100%;margin-top: 10%;'>
                     <button type="button" value="Cancel" data-dismiss="modal"  class="closeedit btn waves-effect waves-light" style = "background-color:#00B9F5;color:white;"><i class="fa fa-save"></i> <b>Cancel</b></button>
                     <!--    <button class="button closetag" type="button" value="Cancel">Cancel</button> -->
                     <button type="submit"  class="btn waves-effect waves-light" onclick="return validateedit()" style = "background-color:#00B9F5;color:white;" value="Save"><i class="fa fa-save"></i> <b>Save</b></button>

                 <!--  <button class="button closeedit" type="button"   value="Cancel">Cancel</button>
                  <button class="button" type="submit" onclick="return validateedit();" value="Save">Save</button> -->
                  </center>
                  </td>
                  </tr>
            
           </table>
            </div>    
                         
            </form>        
                    
              </div>
        </div>
        
</div>
 
    <!-------------------------------------------->

<!---------------Tag ------------>
<div class="modal fade" id="tag" style="height:auto">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content" id="express2">
            <div class="modal-header" style="background-color:#2CB8E5;height:40px">
                <center>
                    <h4 id="head4" class="modal-title" style="color:#052F71;font-size:14pt;margin-top:-5px"><b>Tag Candidate</b> 
                    <span  class='glyphicon glyphicon-remove ' onclick="location.reload()" style='color:#06394A;height:20px;float:right'title ='Close' > 
                    </h4>
                </center>
            </div>
            <center>
                <h2 id="cdtname" style="text-transform:capitalize;color:#2CB8E5"></h2>
            </center>
            <h4 style="margin-left:17px" id="tagstatus"></h4>
            <div class="modal-body" style="margin-top:-5px;padding-top:0px;padding-right:17px;padding-left:17px">
                <table class="cell-border" style="border:2px solid #2cb8e5;font-size:13px;width:100%;text-align:center" class="cell-border" id="currentjd">
                </table>      

                <div style="border:2px solid #2cb8e5;">
                    <p id="tagmoreheading" style="margin:0px;background-color:#7FCEE6">Tag More</p>
                    <div id="tagmorediv">
                      <!--   <form action="/addTag" method="post"> -->
                            <input type="hidden" name="tcid" id="tcid">
                            <table>
                                <tr>
                                    <td style="width:45%;padding-left:10px">
                                        <section id="details-filter" class="">
                                            <div class="md-input-container ">
                                                <select style="color:black;width:200px;float:left" onchange="releventTag()" id="mgrdropdown" name="mgrdropdown">
                                                </select>
                                                <label>Manager's<sup>*</sup></label>
                                            </div>
                                        </section>
                                    </td>
                                    <td style="width:40%">
                                        <section id="details-filter" class="">
                                            <div class="md-input-container ">
                                                <select id="selecttag" style="color:black;width:200px" name="selecttag">
                                                </select>
                                                <label>JD's<sup>*</sup></label>
                                            </div>
                                        </section>
                                    </td>
                                    
                                      <td style="padding-left:5px">
                                        <!--  <button type="button" value="Cancel" class="closetag btn waves-effect waves-light" style ="background-color:#00B9F5;color:white;"><i class="fa fa-save"></i> <b>Cancel</b></button> -->
                             <!--    <button class="button closetag" type="button" value="Cancel">Cancel</button> -->
                             <button type="submit" value="Save" class="btn waves-effect waves-light" onclick="return validatetag()" style = "background-color:#00B9F5;color:white;margin-top:15px" value="Save"><i class="fa fa-save"></i> <b>Save</b></button>
                            <!--     <button class="button" type="submit" onclick="return validatetag()" value="Save">Save</button> -->
                                      </td>
                                </tr>
                            </table>
                            
                               
                           
                        <!-- </form> -->
                    </div>
                </div>
            


            </div>
        </div>
    </div>
</div>
    <!-------------------------------------------->

<!---------------Schedule Interview ------------>
<div class="modal fade" id="schedule" >
    <div class="modal-dialog" style="width:100%">
        <!-- Modal content-->
        <center>
        <div class="modal-content" id="express2" style="width:1000px">
            <div class="modal-header" style="background-color:#2CB8E5;height:40px">
                <center>
                    <h4 id="head4" class="modal-title" style="color:#052F71;font-size:14pt;margin-top:-5px"><b>Schedule Interview</b> 
                    <span  class='glyphicon glyphicon-remove closeschedule' style='color:#06394A;height:20px;float:right'title ='Close' ></span>
                    </h4>
                </center>
            </div>
            <center>
                <h2 id="cdtnameint" style="text-transform:capitalize;color:#2CB8E5;margin:0px"></h2>
                <div id = 'taggedInMulJd'></div>
            </center>
         <a style="color:#2CB8E5;float:right;margin-right:10px" id="history"><span  class='glyphicon glyphicon-plus' style="margin:0px" >History</span></a>
            <div id="showhistorydiv" style="border:solid 2px #2CB8E5;margin:20px 10px 0px 10px;overflow-x:scroll;overflow-y:scroll;max-width:100%;max-height:300px">
              <table style="margin:10px;float:left">
                <tbody id="historytable" >
            
                
              </tbody>
              </table>   
           </div>


           <div style="margin:10px">                   
                    <div id="schedulediv">                      
                       <form action="/scheduleInterview" method="post">
                          
                         <table style="width:100%">
                          <tr>
                            <td>
                              <div class="md-input-container ">
                                <select id="schtaggedJd" style="width:97%" name="schtaggedJd" onchange="getreleventState()">
                                </select>
                                <label>Tagged Jd's</label>
                            </div>
                            </td>
                            <td>
                            <div class="md-input-container ">
                                <select id="schstate" style="width:200px" name="schstate">                                    
                                </select>
                                <label>State</label>
                            </div>
                          </td>
                          <td>
                            <div class="md-input-container ">
                                 <input size="16" type="text" value="2012-06-15 14:45" style="width:95%" readonly name="intdatetime" id="intdatetime">
                                  <label>Date & Time<sup>*</sup></label>                                 
                            </div>
                           </td>
                        
                          <td>
                              <section id="details-filter" class="">
                                 <div class="md-input-container ">
                                    <select name="interviewer"  id="interviewer"  style="width:97%" >
                                    </select>
                                    <label>Interviewer<sup>*</sup></label>
                                 </div>
                              </section>
                          </td>                          
                           <td>
                              <section id="details-filter" class="">
                                 <div class="md-input-container ">
                                    <select name="mode"  id="mode"  style="width:97%" >
                                    </select>
                                    <label>Mode<sup>*</sup></label>
                                 </div>
                              </section>
                           </td>
                           </tr>
                           <input class="hide" type="text" id="cdtidint" name="cdtidint">
                           </table> 
                              <section id="details-filter" class="">                        
                                 <div class="md-input-container ">
                                    <textarea name="intremark"  id="intremark"  style="width:100%;max-width:100%"  ></textarea>
                                    <label style="margin-left:5px">Remarks<sup>*</sup></label>
                                 </div>                               
                              </section>
                       
                        <center> 
                          <button type="submit" class="btn waves-effect waves-light" onclick="return validateschedule()" style = "background-color:#00B9F5;color:white;margin-bottom:10px">
                              <i class="fa fa-save"></i> <b>Save</b></button> 
                         </center>
                         </form> 
                       </div>
                    </div>   
        </div>
      </center>
    </div>
</div>

<!---------------------------------------------------------->
<div class="modal fade" id="iremarkmodal" style="height:auto">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content" id="express2">
            <div class="modal-header" style="background-color:#2CB8E5;height:40px">
                <center>
                    <h4 id="head4" class="modal-title" style="color:#052F71;font-size:14pt;margin-top:-5px"><b>Interviewer's Remark</b> 
                    <span  class='glyphicon glyphicon-remove  closeirem' style='color:#06394A;height:20px;float:right'title ='Close' > 
                    </h4>
                </center>
            </div>
          
        
            <div class="modal-body" id="iremarkdiv" style="margin:20px">
                  
            </div>
        </div>
    </div>
</div>




<link href='http://fonts.googleapis.com/css?family=Roboto:400,300,500,800' rel='stylesheet' type='text/css'>

<link href="/stylesheets1/stylesheets/normalize.css" rel="stylesheet" type="text/css">
<link href="/stylesheets1/stylesheets/paytmtheme.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

<!-- <script src="http://code.jquery.com/jquery-latest.js"></script> -->
<script src="/javascripts1/featherlight.js"></script>
<script src="/javascripts1/main.js"></script>

<script src="/javascripts1/chosen.jquery.js"></script>
<link rel="stylesheet" href="/stylesheets1/stylesheets/chosen.css">

<script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

<script src="/javascripts1/moment.js"></script>
<script src="/javascripts1/jquery.daterangepicker.js"></script>
<link   href="/stylesheets1/stylesheets/jquery.daterangepicker.css" rel="stylesheet">


<link rel="stylesheet" href="/stylesheets1/stylesheets/responsivenormalize.css">
<link rel="stylesheet" href="/stylesheets1/stylesheets/responsivestyle.css">

  <link href="/stylesheets1/stylesheets/style.css" />
 <link rel="stylesheet" type="text/css" href="http://cdn.datatables.net/1.10.10/css/jquery.dataTables.min.css">
 <script src="http://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.10/js/jquery.dataTables.min.js"></script>


<nav id="main-menu" style="z-index:99;padding-bottom:100px">
  <div id="logo" style="margin-bottom:10px;">
    <a href="/rms">RMS</a>
  </div>
  <ul id="main-menuul" style="display:block!important;">
  
  <li>
      <a href="/rms">
        <i class="fa fa-list-alt"></i>
        <span> Dashboard </span>
      </a>
    </li>



    <li>
      <a href="/viewCandidate">
        <i class="fa fa-user"></i>
        <span>Candidates</span>
      </a>
    </li>     
  

    <li>
      <a href="/upload">
        <i class="fa fa-upload"></i>
        <span>Upload</span>
      </a>
    </li>     
  
  
  
  
      <li>
      <a href="/viewReq">
        <i class="fa fa-dropbox"></i>
        <span>Requisitions</span>
      </a>
    </li>



  </ul>
</nav>

<div  class="footer"  style="width:100%;height:50px;background-color:#66caec;position:fixed;bottom:0;padding:10px;color:#002E6E;">
  <center>
  <p> Copyright © 2016 Polestar Solutions</p></center>
</div>

<script type="text/javascript">
  var flagTrashCan = 'Waiting';
          function deleteHistory(id,elementId){
            elementId = '#' + elementId;
            console.log('deletehistory');
          if(!confirm('Are you sure you want to delete this pending schedule')) return;
          console.log($(elementId).closest('td'),$(elementId).closest());
          $(elementId).closest('td').hide();

      
                $.ajax({
      url: '/deletehistory',
      type: 'post',
      data:{"id":id},
      success: function(data) {},
      error:function(){
        alert('Internet error:Please reload page');
      }


  });
}





var countTag = [];
var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;

function getreleventState(){
//alert($('#schtaggedJd').val());
//alert($('#cdtidint').val());
 $.ajax({
      url: '/getreleventState',
      type: 'post',
      data:{"jdid":$('#schtaggedJd').val(),"cid":$('#cdtidint').val()},
      success: function(data) { 
          console.log(data);
          $('#schstate').html('<option  value="0"></option>'); 
          for(var i=0;i<data[0].length;i++){         
            $('#schstate').append("<option value='"+data[0][i].id+"'>"+data[0][i].stateName+"</option>");     
         }
        }
  });
}

//.......................................Document.Ready......................................

$(document).ready(function() {

  $('#file').change(function() {
  $('#form').submit();
});


$('#history').click(function(){
    $(this).find('span').toggleClass('glyphicon-plus').toggleClass('glyphicon-minus');
});  

$('#schedule').draggable();
$('#tag').draggable();
$('#edit').draggable();


$('#history').click(function(){
  $('#showhistorydiv').toggle();
})

$("#intremark").click(function(){
        $('#intremark').addClass("used");
});
    


$(".closeedit").click(function(){
        $('#edit').modal("hide");
});
$(".closetag").click(function(){
        $('#tag').modal("hide");
});
$(".closeschedule").click(function(){
        $('#schedule').modal("hide");
});
$(".closeirem").click(function(){
        $('#iremarkmodal').modal("hide");
});

    if($('name1').val.length>0){
      $('name1').addClass('used');
    }


    $('#gsearch').keypress(function(e){
      //alert(e);
        if(e.which == 13){//Enter key pressed
            $('#gsearchimg').click();//Trigger search button click event
        }
    }); 
      $('#aSearchdiv').keypress(function(e){
      //alert(e);
        if(e.which == 13){//Enter key pressed
            $('#asearchimg').click();//Trigger search button click event
        }
    });   

/*$('#selecttag').multiselect();*/

   $.ajax({
      url: '/viewCandidate',
      type: 'post',
      success: function(data) { 
        var info=[]; 
       var c=1;
       var cddid;
        for(var i=0;i<data.length;i++){
                  countTag[data[i].id] = data[i].countTag;
        
          var  sicon="<a data-toggle='modal' data-target='#schedule' onclick='scheduleInfo("+data[i].id+")'> <span  class='glyphicon glyphicon-dashboard' style='color:#06394A;height:10px;cursor:pointer'title ='Schedule Interview' > </a>";
 
          var skl=data[i].skills;
          if(data[i].stateName==null||data[i].stateName==0){
            data[i].stateName="Not Yet Tagged";
          }
          if(data[i].statusName==null||data[i].statusName==0){
            data[i].statusName='Not Yet Tagged';
            sicon='';
          }          
          if(data[i].location==null){
            data[i].location="--";
          }
          if(data[i].skills==null){
            data[i].skills='No Skills';           
          }
           var resume=data[i].resumeTitle;
          if(resume==null){
            data[i].resumeTitle='--';
          }
          else{
            data[i].resumeTitle=data[i].resumeTitle.replace("/public","");
          }
      
         cddid=data[i].id;  
          if(resume==null){
            data[i].Action="<a onclick='editcdt("+cddid+");' data-toggle='modal' data-target='#edit'><span  class='glyphicon glyphicon-pencil' style='color:#2CB8E5;height:10px;cursor:pointer' title ='Edit' ></span></a> <a data-toggle='modal' data-target='#tag' onclick='getAllTag("+cddid+")'> <span  class='glyphicon glyphicon-pushpin' style='color:#06394A;height:10px;cursor:pointer'title ='Tags' ></span></a> <span  class='glyphicon glyphicon-save' style='color:#2CB8E5;height:10px;cursor:pointer'title ='Download' onclick='noresume()' ></span>"+sicon ;
          }
          else{
            data[i].resumeTitle=data[i].resumeTitle.replace("/public","");
            data[i].Action="<a onclick='editcdt("+cddid+");' data-toggle='modal' data-target='#edit'><span  class='glyphicon glyphicon-pencil' style='color:#2CB8E5;height:10px;cursor:pointer'title ='Edit' ></span></a> <a data-toggle='modal' data-target='#tag' onclick='getAllTag("+cddid+")'> <span  class='glyphicon glyphicon-pushpin' style='color:#06394A;height:10px;cursor:pointer'title ='Tags' ></span> </a><a href='"+data[i].resumeTitle+"' Download> <span  class='glyphicon glyphicon-save' style='color:#2CB8E5;height:10px;cursor:pointer'title ='Download' ></span>"+sicon ;
          }
            data[i].check="<input type='checkbox' name='qcktagcheck' value='"+data[i].id+"' />";
          data[i].id= c++  ;
       //       alert(c++ + "<input type='checkbox'></input>")
    
          info.push($.map(data[i],function(k,v){return k;}));

 

        
        }

//console.log(info);
       table= $('#openreqstate').DataTable( {
          data:info, 
          columns: [

                  { title: "#" },                  
                  { title: "Candidate Name" },
                  { title: "Phone Number" },
                  { title: "Email Id" },
                  { title: "Location" },
                  { title: "Skills" },
                  { title: "State" },
                  { title: "Status" },
                  {title:"Resume"},
                  {title:"countTag"},
                  { title: "Action" },
                  {title:"Select"}
              ],    
           "columnDefs": [
                            { className: "dt-body-left", "targets": [10] }
                          ]      ,
                        
                 "bLengthChange": false,
                 "searching":false,      
                 "fnCreatedRow": function( nRow, aData, iDataIndex ) {
                               if(parseInt($('td:eq(9)', nRow).html())>1){
                              $(nRow).css({"background-color":"#ffffb3"});
                               }
                                                        

              }
           
  } );

      table.column(8).visible( false );
     table.column(9).visible( false );
      table.column(11).visible( false );      
        } 
});
});

var tog=0;
$('#quick').click(function() {

$('qmgrdropdown').html('');
$('qselecttag').html('');
  getallmanager();
  $('#qmgrdiv').toggleClass("hide");
  $('#qjddiv').toggleClass("hide");
  $('#qsdiv').toggleClass("hide");
  if(tog%2){   
    table.column(10).visible(false); 
    tog++; 
  }
  else{
   
      table.column(10).visible( true); 
      tog++;
  }


});
 var abc;

//-------------------------------------------End Ready


function savequicktag(){
 var qcdid = $('input[name="qcktagcheck"]:checked').map(function () {  
        return this.value;
        }).get().join(",");

 
  if($("#qmgrdropdown").val()==0){
    alert("Select a Manager");
    return false;
  }
  else if($("#qselecttag").val()==0){
    alert("Select a JD");
    return false;
  }

  else if(qcdid.length==0){
    alert("Choose at least one candidate");
    return false;
  }
 
$.ajax({
        url: '/addQuickTag',
        type: 'post',     
        data:{"allcdid":qcdid,"jdid":$('#qselecttag').val()},   
        success: function(data) { 
                alert("All Candidates Tagged Successfuly!");
                window.location.reload();
            }
        
          });

}

function getallmanager(){

 $.ajax({
        url: '/getallmanager',
        type: 'post',        
        success: function(data) { 
         $('#qmgrdropdown').html('');
              $('#qmgrdropdown').append('<option  value="0"></option>');   
              for(var i=0;i<data.length;i++)
              {        
                $('#qmgrdropdown').append("<option value='"+data[i].id+"''>"+data[i].name+"</option>");
              }
            }
          });

}


function validateschedule(){
    if($('#schtaggedJd').val()==0){
      alert("Select a JD");
      return false;
    }
    if($('#schstate').val()==0){
      alert("Select a State");
      return false;
    }
    if($('#intdatetime').val()==''){
      alert("Choose a Date and time for interview");
      return false;
    }
    if($('#interviewer').val()==0){
      alert("Select a Interviewer");
      return false;
    }
    if($('#mode').val()==0){
      alert("Choose a mode of Interview");
      return false;
    } 

    if($("#intremark").val()=="" && !confirm("Do you want to submit without remark?"))
    {      
      return false;
    }
    else 
    {   
       alert("Interview Scheduled");   
      return true;
    }
  
    $('#schedule').modal("hide");
  
}
//-------------------show Schedule INFO---------------------
function scheduleInfo(id){

  $("#showhistorydiv").hide(); 
    $.ajax({
        url: '/getscheduleInfo',
        type: 'post',   
        data:{"cid":id}, 
        success: function(data) { 
          var strName = ''
          console.log('countTag is',countTag[id]);
       if(countTag[id]>1){
        strName = "\n Tagged in multiple JD's";
       }
         console.log("Schedule popup: ",data);
         $('#cdtnameint').html(data[0][0].name);
         $('#taggedInMulJd').html(strName);
         $('#cdtidint').val(data[0][0].candidateID);
         $('#schtaggedJd').html('<option  value="0"></option>'); 
         for(var i=0;i<data[0].length;i++){
            $('#schtaggedJd').append("<option value='"+data[0][i].jdID+"''>"+data[0][i].title+"</option>");     
          }
          $('#interviewer').html('<option  value="0"></option>'); 
         for(var i=0;i<data[2].length;i++){          
            $('#interviewer').append("<option value='"+data[2][i].id+"''>"+data[2][i].name+"</option>");     
          }
         $('#mode').html('<option  value="0"></option>'); 
         for(var i=0;i<data[3].length;i++){          
            $('#mode').append("<option value='"+data[3][i].id+"''>"+data[3][i].mode+"</option>");     
          }


//--------------------History Table...............................................
         $('#historytable').html('');
          var t=0;
          var clr=0;
          var jdtemp=[];
          var jdcount=[];
          var temparr=[];
          // .............storing all jd title.........
          for(var i=0;i<data[5].length;i++){
           // alert(data[5][i].title);
            jdtemp.push(data[5][i].title); 
          }

          for(var i=0;i<jdtemp.length;i++){
           temparr[jdtemp[i]]=(temparr[jdtemp[i]]||0)+1; //increments count if element already exists            
          }        

          for(var i in temparr)
          {
            jdcount.push(temparr[i]);
          }

console.log("JDTEMP",jdtemp);
console.log("JDCOUNT",jdcount);
          for(var i=0;i<jdcount.length;i++){
            $('#historytable').append("<tr>");
            var temp=0;
            for(var j=0;j<jdcount[i];j++){
            if(temp==0){
              $('#historytable').append('<td><span class=""></span><div class="dialogbox"><div class="body"><div class="message"><span>'+data[5][t].title+'</span></div></div></div></td>');
                temp++;
              } 
              var irem=''; 
              var date=data[5][t].date;
              date=date.slice(0,10);  
              if(data[5][t].interviewerRemarks!=null){
                data[5][t].interviewerRemarks = JSON.stringify(data[5][t].interviewerRemarks);
                data[5][t].interviewerRemarks = data[5][t].interviewerRemarks.replace(/"/g,'"');
            irem="<span class='glyphicon glyphicon-info-sign' onclick='interviewerRemarks("+data[5][t].interviewerRemarks+")' data-toggle='modal' data-target='#iremarkmodal' style='color:#06394A;height:20px;float:right' title ="+data[5][t].interviewerRemarks+" ></span>";
              }
              var deleteString = '';
              if(data[5][t].statusName=='Pending'){
                    deleteString = '<i class="fa fa-trash-o" id = "trash_'+i+'_'+j+'" title = "delete schedule" onclick = "deleteHistory('+data[5][t].id+',this.id)" ></i>';
              }
            $('#historytable').append('<td class="verticalLine'+clr+'"><div style="margin:2px"><div style="font-size:11px"><u>'+data[5][t].stateName+"-"+data[5][t].rounds+'</u>'+irem+'</div><div style="font-size:10px">'+data[5][t].statusName + deleteString+'</div><div style="font-size:10px">By- '+data[5][t].name+'</div><div style="font-size:10px">On -'+date+'</div></div></td>'); 
              t++;
              clr++;
              if(clr==5)
                clr=0;
            }
            $('#historytable').append("</tr><tr style='height:3px'><td></td><td></td><td></td>)<td></td>;<td></td><td></td> <td></td> <td></td> <td></td><td></td> <td></td> </tr>" );
   }


   $('#schtaggedJd').val(data[0][0].jdID); 
   $("#schtaggedJd").trigger("chosen:updated"); 
    $('#schtaggedJd').addClass('used');
    getreleventState();

}
});
}

function interviewerRemarks(msg){
 // alert("rem function  "+msg);
$('#iremarkdiv').html("<label>"+msg+"</label>");
} 

 //validatetag
function validatetag(){

  if($("#mgrdropdown").val()==0){
    alert("Select a Manager");
    return false;
  }
  else if($("#selecttag").val()==0){
    alert("Select a JD");
    return false;
  }
     $.ajax({
        url: '/addTag',
        type: 'post',   
        data:{"tcid":$('#tcid').val(),"selecttag":$('#selecttag').val()}, 
        success: function(data) {


          currentjd
          console.log("Data afet tag",data);
          getAllTag($('#tcid').val());        
          if(data[0][0].count==1){
             alert("You can not Tag same JD again! "); 
          }
          else{
          alert("Successfuly Tagged! ");          
         }
           $('#selecttag').html('');
        }
      }); 
}

 

function validateedit(){ 
 
  if($("#name").val().length<1){
    alert("Name Field can not be left blank!");
    return false;
  }
   if(isNaN($("#phone").val())||$("#phone").val().length<10){
    alert("Enter Valid Phone Number");
    return false;
  }
   if($("#email").val().length<1||!regex.test($("#email").val())){
    alert("Enter Valid Email ID!");
    return false;
  }
   if($("#locationId").val()==null){
    alert("Location Field can not be left blank!");
    return false;
  }
   if($("#skillsId").val()==null||$("#skills").val()==0){
    alert("Choose atleast one Skill");
    return false;
  }
  alert("Candidate Information Updated Successfuly!");
  return true;
}

 function a2qsearch(){
  $('#toglesearch').html("<a onclick='q2asearch()' style='color:grey;cursor:pointer'>Quick Search</a>");
  $('#searchdiv').addClass("hide");
  $('#aSearchdiv').removeClass("hide");

 }
function q2asearch(){
  $('#toglesearch').html("<a onclick='a2qsearch()' style='color:grey'>Advanced Search</a>");
$('#searchdiv').removeClass("hide");
  $('#aSearchdiv').addClass("hide");  
  /*$('#searchdiv').html("<input placeholder='Search candidate based on there Name,Location,Email ' type='text' name='gsearch' id='gsearch' style='margin-top:25px;width:90%'>  <img src='../images/candidate_search.png' id='gsearchimg' onclick='GetData();' height='33px' style='margin-top:-30px;margin-right:20px;float:right;'>");
 */
}
table1='';

function getAllTag(id){
  //$("#tagmorediv").hide();
  // $("#schedulediv").hide();
console.log(id);   
  $.ajax({
      url: '/getAllTag',
      type: 'post',   
      data:{"id":id}, 
      success: function(data) {      
       // console.log("Current Tag Info",data[0]); 
      //  console.log("All Managers",data[1]); 

      /*  alert("Name",data[0][i].name);
        $('#cdtname').append(data[0][i].name);*/
       console.log("tag data",data);
        $('#tcid').val(data[2][0].id);

        $('#cdtname').html(data[2][0].name);        
         if(data[0].length<1){
          $('#tagstatus').html(" No Tagged JD's Yet  ");
          //$('#currentjd').removeClass("normalTable");
         }
          else{
           // $('#currentjd').addClass("normalTable");
         $('#tagstatus').html(" Currently Tagged JD's ");
       }
    

       var c=1;
        /* $('#currentjd').html('<thead align="center"><tr style="border:2px solid #2cb8e5;color:black;strong:1px"><td style=''>#</td><td>JD Title</td></tr></thead><tbody>');*/
       var info=[];
        for(var i=0;i<data[0].length;i++){

         /* $('#currentjd').append("<tr ><td style='border:1px solid #2cb8e5;padding-left:10px'>"+ c++ +"</td><td style='border:1px solid #2cb8e5;padding-left:10px'>"+data[0][i].title+"</td></tr>")*/
          //data[0][i].sno=c++;
          var obj={};
          obj.sno=c++;
          obj.title=data[0][i].title+"<span onclick='removetag("+data[2][0].id+","+data[0][i].tagId+")'  class='glyphicon glyphicon-trash' style='color:#06394A;float:right; height:10px'title ='Remove Tag' >";
          obj.state=data[3][i].stateName;
          obj.status=data[3][i].statusName;
          console.log("OBJ",obj);
        
          info.push($.map(obj,function(k,v){return k;}));
          console.log("INFO",info);
        }
        if(table1 !='')
        {
          table1.destroy();
        }
         table1= $('#currentjd').DataTable( {
          data:info, 
          columns: [
                  { title: "#" },
                  { title: "JD Title" },
                  {title:"State"},
                  {title:"Status"}          
              ],
                 "bLengthChange": false,
                 "searching":false
          } );
        $('#currentjd').append('</tbody>');
        $('#mgrdropdown').html('');
        $('#mgrdropdown').append('<option  value="0"></option>');   
        for(var i=0;i<data[1].length;i++)
        {        
          $('#mgrdropdown').append("<option value='"+data[1][i].id+"''>"+data[1][i].name+"</option>");
        }
        
        //.................Adding all states in dropDown
        
        $('#statedropdown').html('<option  value="0"></option>'); 
         for(var i=0;i<data[4].length;i++){
            $('#statedropdown').append("<option value='"+data[4][i].id+"''>"+data[4][i].stateName+"</option>");     
          }
        


      }
    });

}

function removetag(cdid,tagid){
  if(!confirm("Remove this tag ?"))
    return false;

   $.ajax({
      url: '/removeTag',
      type: 'post',
      data:{"cid":cdid,"tagid":tagid},
      success: function(data) {  
        console.log("delete data      -----", data);
        console.log("delete ",data[0]);           
        getAllTag(cdid);
        if(data[0]==1)
        alert("Tagging removed Successfuly!");
        if(data[0][0][0]==0)
          alert("You cannot delete this Tag because it has been scheduled for Interview");
      }
    });
}

function releventTag(){

  var id=$("#mgrdropdown").val();
  //alert(id);
  /*var e = document.getElementById("elementId");
var id = e.options[e.selectedIndex].value;*/
   $.ajax({
      url: '/getReleventTag',
      type: 'post',
      data:{"id":id},
      success: function(data) { 
        console.log("data for managers",data);
        $('#selecttag').html('');
        $('#selecttag').append('<option  value="0"></option>');
            for(var i=0;i<data.length;i++){
            $('#selecttag').append("<option value='"+data[i].id+"'>"+data[i].title+"</option>");
              }
      }
    });
}
//-----------------showing relevent JD's in Quick Tag---------------
function qreleventTag(){
  var id=$("#qmgrdropdown").val();
   
  /*var e = document.getElementById("elementId");
var id = e.options[e.selectedIndex].value;*/
   $.ajax({
      url: '/getReleventTag',
      type: 'post',
      data:{"id":id},
      success: function(data) { 
        console.log("data after manager selection :",data);
        $('#qselecttag').html('');
        $('#qselecttag').append('<option  value="0"></option>');
            for(var i=0;i<data.length;i++){
            $('#qselecttag').append("<option value='"+data[i].id+"'>"+data[i].title+"</option>");
              }
      }
    });
}
function editcdt(id){ 
  //alert(id);
   $.ajax({
      url: '/getCandidate',
      type: 'post',
      data:{"id":id},
      success: function(data) { 
        console.log("Candy info",data[0]);
        console.log("location",data[1]);
        console.log("skills",data[3]);

        $('#hcid').val(data[0][0].id);
        $('#name').val(data[0][0].name);
        $('#name').addClass('used');
        $('#phone').val(data[0][0].phone);
        $('#phone').addClass('used');
        $('#email').val(data[0][0].emailID);
        $('#email').addClass('used');
        $('#years').val(data[0][0].years);
        $('#months').val(data[0][0].months);
        $('#location').val(data[0][0].location);
        $('#location').addClass("used");
        $('#clocation').val(data[0][0].clocation);
        $('#clocation').addClass("used");
        $('#institute').val(data[0][0].ugInstitute);
        $('#institute').addClass("used");
        $('#qualification').val(data[0][0].qualification);
        $('#qualification').addClass("used");
        var arr = [];
        arr =JSON.parse(JSON.stringify(data[3][0].skillid)).split(',')
        console.log(arr);
        for (var i = 0; i <arr.length; i++) { 
            $('#skills_' + arr[i].skillid).prop('selected', true);
        }
       $('#skillsId').val(arr.toString().split(',')).trigger('change');

        $('#skillsId').trigger('chosen:updated');
        $('#skillsId').prop('disabled', false).trigger("chosen:updated");
        
        $('#status').val(data[0][0].status);
        $('#status').addClass('used');   

      $('#locationId').val(data[0][0].location);
      $('#locationId').addClass("used");

      }
    });
}

function showsalert(){ 
var str="Enter Valid String\nSyntax for valid Search String are: \n          1.(str)\n          2.(str1)|/&(str2)\n          3.(str1)|/&(str2)|/&(str1)|/&(str2)";
  alert(str);
}

function GetData()
{ 
  var str=$('#gsearch').val();
  console.log("Search String: ",str);
  var req11=")&(";
var req12=")|(";
var req21="&",req22="|";
var req31="(",req32=")";

var res11=') AND (',res12=') OR (';
var res21='%" AND @col like "%',res22='%" OR @col like "%';
var res31='( @col like "%',res32='%")';


var count=0;
console.log("Orignal String:",str);
//alert(str.split(req11).length);

if(str.trim().length!=0){
      if(str.match("^[a-zA-Z0-9]+$")){
        str="("+str+")";
      }
      
      if (str == null ||/^[!@#$%]*$/.test(str)) {
      alert("Enter Valid reg String");
      return false;
      }
      if(str.search(/\(((\()*\w+[\w\+#]*( {1}[\w\+#])*\)((&|\|)\(\w+[\w\+#]*( {1}[\w\+#])*\))*(\)*(&|\|)(\()*\w+[\w\+#]*( {1}[\w\+#])*\)((&|\|)\(\w+[\w\+#]*( {1}[\w\+#])*\))*)*)/)!='0'){
        showsalert();
        return false;
      }
      if(str.split(req11).length>0)
      {
        count++;
      }
      str=str.split(req11).join(res11);
      if(str.split(req11).length>0)
      {
        count++;
      }
      str=str.split(req12).join(res12);
      if(str.split(req11).length>0)
      {
        count++;
      }
      str=str.split(req21).join(res21);
      if(str.split(req11).length>0)
      {
        count++;
      }
      str=str.split(req22).join(res22);
      if(str.split(req11).length>0)
      {
        count++;
      }
      str=str.split(req31).join(res31);
      if(str.split(req11).length>0)
      {
        count++;
      }
      str=str.split(req32).join(res32); 
      if (count<1) {
          showsalert();
          return false;
        }
    }    
else{
count++;
}
   // alert("String is null "+str.trim().length);
  var up={
      url: '/search',
      type: 'post',
      data:{"search":str},
    success: function(data) { 
        var info=[]; 
       var c=1;
       var cddid;
        for(var i=0;i<data.length;i++){
        
          var  sicon="<a data-toggle='modal' data-target='#schedule' onclick='scheduleInfo("+data[i].id+")'> <span  class='glyphicon glyphicon-dashboard' style='color:#06394A;height:10px'title ='Schedule Interview' > </a>";

          var skl=data[i].skills;
          if(data[i].stateName==null||data[i].stateName==0){
            data[i].stateName="Not Yet Tagged";
          }
          if(data[i].statusName==null||data[i].statusName==0){
            data[i].statusName='Not Yet Tagged';
            sicon='';
          }          
          if(data[i].location==null){
            data[i].location="--";
          }
          if(data[i].skills==null){
            data[i].skills='No Skills';           
          }
         var resume=data[i].resumeTitle;
          if(resume==null){
            data[i].resumeTitle='--';
          }
          else{
            data[i].resumeTitle=data[i].resumeTitle.replace("/public","");
          }
          cddid=data[i].id;  
          if(resume==null){
            data[i].Action="<a onclick='editcdt("+cddid+");' data-toggle='modal' data-target='#edit'><span  class='glyphicon glyphicon-pencil' style='color:#2CB8E5;height:10px;cursor:pointer' title ='Edit' ></span></a> <a data-toggle='modal' data-target='#tag' onclick='getAllTag("+cddid+")'> <span  class='glyphicon glyphicon-pushpin' style='color:#06394A;height:10px;cursor:pointer'title ='Tags' ></span></a> <span  class='glyphicon glyphicon-save' style='color:#2CB8E5;height:10px;cursor:pointer'title ='Download' onclick='noresume()' ></span>"+sicon ;
          }
          else{
            data[i].resumeTitle=data[i].resumeTitle.replace("/public","");
            data[i].Action="<a onclick='editcdt("+cddid+");' data-toggle='modal' data-target='#edit'><span  class='glyphicon glyphicon-pencil' style='color:#2CB8E5;height:10px;cursor:pointer'title ='Edit' ></span></a> <a data-toggle='modal' data-target='#tag' onclick='getAllTag("+cddid+")'> <span  class='glyphicon glyphicon-pushpin' style='color:#06394A;height:10px;cursor:pointer'title ='Tags' ></span> </a><a href='"+data[i].resumeTitle+"' Download> <span  class='glyphicon glyphicon-save' style='color:#2CB8E5;height:10px;cursor:pointer'title ='Download' ></span>"+sicon ;
          }
            data[i].check="<input type='checkbox' name='qcktagcheck' value='"+data[i].id+"' />";
          data[i].id= c++  ;
       //       alert(c++ + "<input type='checkbox'></input>")
    
          info.push($.map(data[i],function(k,v){return k;}));
        }
table.destroy();

console.log(info);
       table= $('#openreqstate').DataTable( {
          data:info, 
          columns: [

                  { title: "#" },                  
                  { title: "Candidate Name" },
                  { title: "Phone Number" },
                  { title: "Email Id" },
                  { title: "Location" },
                  { title: "Skills" },
                  { title: "State" },
                  { title: "Status" },
                  {title:"Resume"},
                  { title: "Action" },
                  {title:"Select"}
              ],    
           "columnDefs": [
                            { className: "dt-body-left", "targets": [10] }
                          ]      ,
                        
                 "bLengthChange": false,
                 "searching":false
          } );
      table.column(8).visible( false );
      table.column(10).visible( false );      
        } 
  };
  $.ajax(up);

}

function aSearch()
{
  //alert($('#gsearch').val() );
  $.ajax({
      url: '/aSearch',
      type: 'post',
      data:{"name1":$('#sname').val(),"jdtitle":$('#jdtitle').val(),"location1":$('#slocation').val(),"email1":$('#semail').val()},
    success: function(data) { 
        var info=[]; 
       var c=1;
       var cddid;
        for(var i=0;i<data.length;i++){
        
          var  sicon="<a data-toggle='modal' data-target='#schedule' onclick='scheduleInfo("+data[i].id+")'> <span  class='glyphicon glyphicon-dashboard' style='color:#06394A;height:10px;cursor:pointer' title ='Schedule Interview' > </a>";

          var skl=data[i].skills;
          if(data[i].stateName==null||data[i].stateName==0){
            data[i].stateName="Not Yet Tagged";
          }
          if(data[i].statusName==null||data[i].statusName==0){
            data[i].statusName='Not Yet Tagged';
            sicon='';
          }          
          if(data[i].location==null){
            data[i].location="--";
          }
          if(data[i].skills==null){
            data[i].skills='No Skills';           
          }
         var resume=data[i].resumeTitle;
          if(resume==null){
            data[i].resumeTitle='--';
          }
          else{
            data[i].resumeTitle=data[i].resumeTitle.replace("/public","");
          }
    cddid=data[i].id;  
          if(resume==null){
            data[i].Action="<a onclick='editcdt("+cddid+");' data-toggle='modal' data-target='#edit'><span  class='glyphicon glyphicon-pencil' style='color:#2CB8E5;height:10px;cursor:pointer' title ='Edit' ></span></a> <a data-toggle='modal' data-target='#tag' onclick='getAllTag("+cddid+")'> <span  class='glyphicon glyphicon-pushpin' style='color:#06394A;height:10px;cursor:pointer'title ='Tags' ></span></a> <span  class='glyphicon glyphicon-save' style='color:#2CB8E5;height:10px;cursor:pointer'title ='Download' onclick='noresume()' ></span>"+sicon ;
          }
          else{
            data[i].resumeTitle=data[i].resumeTitle.replace("/public","");
            data[i].Action="<a onclick='editcdt("+cddid+");' data-toggle='modal' data-target='#edit'><span  class='glyphicon glyphicon-pencil' style='color:#2CB8E5;height:10px;cursor:pointer'title ='Edit' ></span></a> <a data-toggle='modal' data-target='#tag' onclick='getAllTag("+cddid+")'> <span  class='glyphicon glyphicon-pushpin' style='color:#06394A;height:10px;cursor:pointer'title ='Tags' ></span> </a><a href='"+data[i].resumeTitle+"' Download> <span  class='glyphicon glyphicon-save' style='color:#2CB8E5;height:10px;cursor:pointer'title ='Download' ></span>"+sicon ;
          }
            data[i].check="<input type='checkbox' name='qcktagcheck' value='"+data[i].id+"' />";
          data[i].id= c++  ;
       //       alert(c++ + "<input type='checkbox'></input>")
    
          info.push($.map(data[i],function(k,v){return k;}));

 
        }
table.destroy();
console.log(info);
       table= $('#openreqstate').DataTable( {
          data:info, 
          columns: [
                  { title: "#" },                  
                  { title: "Candidate Name" },
                  { title: "Phone Number" },
                  { title: "Email Id" },
                  { title: "Location" },
                  { title: "Skills" },
                  { title: "State" },
                  { title: "Status" },
                  {title:"Resume"},
                  { title: "Action" },
                  {title:"Select"}
              ],    
           "columnDefs": [
                            { className: "dt-body-left", "targets": [10] }
                          ]      ,
                        
                 "bLengthChange": false,
                 "searching":false
          } );
      table.column(8).visible( false );
      table.column(10).visible( false );      
        } 
});
}

function noresume(){
  alert("Candidate resume is not available");
}

</script>
<style>

input[type=search] {
            height: 29px !important;
            border-radius: 5px !important;
            border: 1px solid #669ECC !important;
           
        }

  input[type=checkbox] {
    display:inline;
}

</style>
<link href="http://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.4.5/jquery.datetimepicker.css" rel="stylesheet" media="screen">  
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.4.5/jquery.datetimepicker.min.js"></script>
<!-- <script type="text/javascript" src="/javascripts/bootstrap-datetimepicker.js" charset="UTF-8"></script>
<script type="text/javascript" src="/javascripts/bootstrap-datetimepicker.fr.js" charset="UTF-8"></script>
 -->
<script type="text/javascript">
/*    $('#intdatetime').datetimepicker({
        //language:  'fr',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
    todayHighlight: 1,
    startView: 2,
    forceParse: 0,
        showMeridian: 1
    });*/
  $('#intdatetime').datetimepicker();
</script>

</body> 


