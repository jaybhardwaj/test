<<<<<<< HEAD
   <!DOCTYPE html>
<html lang="en">

	<title>All Bug</title>
	  <% include ../partials/head %>

  <% include header %>
  	   <% include ../partials/adminheader %>
  	   
  	   

	<style>
	.selectedBug{
		border: 2px solid green;

	} 

=======
<!DOCTYPE html>
<html lang="en">
<head>



  <title>All Bug</title>
    <% include ../partials/head %>

  

      <!-- background-image: linear-gradient(to left, rgb(20, 30, 48), rgb(36, 59, 85));
    background-color: rgb(36, 59, 85);
    background-image: linear-gradient(to left, rgb(0, 0, 0), rgb(67, 67, 67));
    background-color: rgb(67, 67, 67); -->

  <style>
  .selectedBug{
    border: 2px solid green;

  }
  #advanceSearch input{
    height: 25px;
  } 
#grp-btn{
  padding: 2px 5px;
  background:#f05f40 !important;
}
#grp-btn:hover{
  background:#f05f40 !important;
}
.modified-date-hidden{
  display: none;
}
#data_table_length{
  clear: both;
  margin-top: 4px;
}
td.child{
  display: table-cell;
}
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
.submit-with-icon {
  background: transparent;
    border: 0px;
    padding: 0;
    outline: 0;
}
<<<<<<< HEAD


	#headMenu{
		float: right
	}

	 	#resizable 
		{
			min-width:100%;max-width:100% ;
  		}
 
  		.slidingpanel span
  		{
			font-size: 10px;
			font-weight: 100;
  		}

  		#commentd {
                border-radius: 10px;
            }

  		.ms-drop ul
  		{
  			max-height: 120px !important;
  		}
  	 
  		.ms-drop{
  			margin-left: -14px;
  			width: 121%;
  		}
  	
  		.ms-choice{
  			margin-left: -14px;
=======
#bugDetails td{
  text-align: center;
}
#bugDetails td.child{
  text-align: left;
}



  #headMenu{
    float: right
  }

    #resizable 
    {
      min-width:100%;max-width:100% ;
      }
 
      .slidingpanel span
      {
      font-size: 10px;
      font-weight: 100;
      }

      #commentd {
          border-radius: 3px;
      }
      #commentd:hover {
          color: white;
      }
      .ms-drop ul
      {
        max-height: 120px !important;
      }
     
      .ms-drop{
        /*margin-left: -14px;*/
        width: 121%;
      }
    
      /*.ms-choice{
        margin-left: -14px;
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
            width: 88px;
            margin-top: 2px;
            height: 21px;

  

<<<<<<< HEAD
  		}
  		.ms-choice > div{
  		    margin-top: 1px;
    right: 0px;
  		}
  		.ms-choice > span {
    position: relative;}
    sup{
    	color: white;
    	 width: 40px;
		   height: 40px;
		   background: #2A9228; 
		   -moz-border-radius: 20px; 
		   -webkit-border-radius: 20px; 
		   border-radius: 20px;
		   margin-left: 5px;
		    padding: 3px;
    } 
	</style>
<div class="row" style="margin-top: 2%;margin-left: 5px">
  <div class="col-md-1" style="    margin-top: -10px;">   
  <button class="btn btn-success buttonMenu " title = "Show/Hide Table column" ><span class="glyphicon glyphicon-eye-close" onclick = "colHideOnChange('selectCol')" value="showHide" style = "font-size:19px;position:relative"></span> </button>

  </div>
 <div class="col-md-11 hide" id="selectCol">
 <select multiple="multiple" style="height:10px" class="form-text-box "  id ="hideColumnsId" maxlength="50" onchange="hidecol()">
     <option value = "1">Bug ID</option>
     <option value = "2">Title</option>
     <option value = "3">Project</option>
     <option value = "4">Status</option>
     <option value = "5">Priority</option>
     <option value = "6">Severity</option>
     <option value = "7">Technology</option>
     <option value = "8">Esti. Effort</option>
     <option value = "9">Actual Effort</option>
     <option value = "10">Assinged To</option>
     <option value = "11">Created Date</option>
     <option value = "12">Closure Date</option>
   </select>
</div>
</div>

<div class="se-pre-con"></div>
   <div class="secondry-color" style=" overflow-x:hidden ">
     

 <!-- jay -->

 <div class="row" style="padding:2%;padding-top:5px;padding-bottom:0px">
  
	
<div style="overflow-x:auto; width:100%">
<form action="/filterBug" onsubmit="return checkedBox()" method="post" class="checkl" id="myfilterform" >

<div class="text-center">
 <a href="javascript:showhide('advanceSearch')" > Advanced Search 
</a>

   <button type="submit" class="submit-with-icon"><span class="glyphicon glyphicon-search" onclick="submit" value="filter"></span></button>
</div>

        
       <!-- 
  <input type="submit" value="filter" style="color: black;"> -->
      <input class="hide" id="allSelected" name="showSelect">
            <table id="data_table" class="table-striped table-bordered" 	cellspacing="0" width="100%" style="ALIGN-CONTENT: CENTER;">
                <thead>
                <tr>
                    <th>S.No.</th>
                   <th>Bug ID</th>
                      <!-- <th id='column-header-1'>Column Header 1<div id='column-header-1-sizer'></div></th> -->
                    <th id='column-header-1'>Title<div id='column-header-1-sizer'></div></th>
                    <th id='column-header-2'>Project<div id='column-header-2-sizer'></div></th>
                    <th id='column-header-3'>Status<div id='column-header-3-sizer'></div></th>
                    <th id='column-header-4'>Priority<div id='column-header-4-sizer'></div></th>
                    <th id='column-header-5'>Severity<div id='column-header-5-sizer'></div></th>
                    <th id='column-header-6'>Technology<div id='column-header-6-sizer'></div></th>
                    <th id='column-header-7'>Esti. Effort<div id='column-header-7-sizer'></div></th>
                    <th id='column-header-8'>Actual Effort<div id='column-header-8-sizer'></div></th>
                    <th id='column-header-9'>Assinged To<div id='column-header-9-sizer'></div></th>
                    <th id='column-header-10'>Created Date<div id='column-header-10-sizer'></div></th>
                    <th id='column-header-11'>Closure Date<div id='column-header-11-sizer'></div></th>
=======
      }*/
     /* .ms-choice > div{
          margin-top: 1px;
    right: 0px;
      }
      .ms-choice > span {
    position: relative;}*/
    /*sup{
      color: white;
       width: 40px;
       height: 40px;
       background: #2A9228; 
       -moz-border-radius: 20px; 
       -webkit-border-radius: 20px; 
       border-radius: 20px;
       margin-left: 5px;
        padding: 3px;
    }*/ 

    .btn btn-danger, .multiselect dropdown-toggle btn btn-link >button-group {
      margin-left-10px;
 padding: 16px;
    font-size: 14px;
    border: none;
}

.button-group{
  width:20px;
  float :left;
    margin-right:90px;
    margin-top:0.5px;
    border-radius:none;
  
}

.dt-button-collection a.buttons-columnVisibility:before,
.dt-button-collection a.buttons-columnVisibility.active span:before {
    display:block;
    position:absolute;
    top:1.2em;
    left:0;
    width:12px;
    height:12px;
    box-sizing:border-box;
}

.dt-button-collection a.buttons-columnVisibility:before {
    content:' ';
    margin-top:-6px;
    margin-left:10px;
    border:1px solid black;
    border-radius:3px;
}

.dt-button-collection a.buttons-columnVisibility.active span:before {
    content:'\2714';
    margin-top:-11px;
    margin-left:12px;
    text-align:center;
    text-shadow:1px 1px #DDD, -1px -1px #DDD, 1px -1px #DDD, -1px 1px #DDD;
}

.dt-button-collection a.buttons-columnVisibility span {
    margin-left:20px;    
}
.Editor-container .btn.btn-default{
    border-radius: 0px !important
}
.Editor-container .btn.btn-default:hover{
    background: #f53f1a;
}
.Editor-container .open>.dropdown-toggle.btn-default {
    background-color: #f53f1a;
    color: white;
}
.Editor-editor {
    height: 150px;
    background: white;
}
.tab-content .active{
  background-color: transparent;
}
#data_table thead>input, #data_table thead>select,#data_table #bugDetails input, #data_table #bugDetails select{
  height: 25px;
  padding: 2px;
}
#data_table thead td{
  padding: 8px 10px;
}
@media screen and (max-width: 767px) {
  #download{
    float: none !important;
  }
  #download-section{
    display: block !important;
  }
}
</style>

</head>
<body>

<% include ../partials/adminheader %>
<% include header %>

<div class="container" style="margin:0">

</div>

<script>

$('ul.dropdown-menu li a').on('click', function (event) {
    $('.button-group').addClass('open');
});

 $('a.toggle-vis').on( 'click', function (e) {
      
 
       
        var column = otable.column( $(this).attr('data-column') );
 
       
        column.visible( ! column.visible() );
    } );
window.onload = function() {
    $("#advanceSearch select,#advanceSearch input[type='radio'],#advanceSearch input[name='createdate'],#advanceSearch input[name='closedate']").change(function(){
       var idUpdated = $(this).attr('name');
        $('#'+idUpdated).val($(this).val());
        otable.ajax.reload();
     });

    $('#advanceSearch input[type="text"]').on('input',function(){
      var idUpdated = $(this).attr('name');
      $('#'+idUpdated).val($(this).val());
      otable.ajax.reload();
    });
};

 function filteron(){
    otable.ajax.reload();
  }
</script>




 <div class="row" style="padding:10px">
  
  
<div style="overflow-x:auto; width:100%">
<form action="/filterBug" onsubmit="return checkedBox()" method="post" class="checkl" id="myfilterform" >

<div align="center">





</div>
<div class="row"> 
  <div class="col-lg-12" align="center" style="margin-bottom: 10px">
      <div style="display:inline;position:relative" id="download-section">
        <a href="javascript:showhide('advanceSearch')">Advanced Search</a>
      </div> 
      <a id="download" style="float:right;cursor: pointer" title="Download CSV of Bugs" onclick="exportBug()" class="dt-button hide"><span class="glyphicon glyphicon-download-alt" ></span> Download</a>
  </div>
</div>

        
   
      <input class="hide" id="allSelected" name="showSelect">

<div id="advanced-search-hiden" style="display: none;">
  <input type="text" class="form-control input-sm" id="bugId">
  <input type="text" class="form-control input-sm" id="title1">
  <select style="color: black" multiple="multiple" id="project"><% for(var i=0;i<project.length;i++) { %>
  <option value="<%=project[i].id%>"><%=project[i].projectTitle%></option>
  <%}%></select>

  <select style="color: black" multiple="multiple" id="status">
  <% for(var i=0;i<status.length;i++) { %>
  <option value="<%=status[i].id%>"><%=status[i].description1%></option>
  <%}%>
    </select>

  <select style="color: black" multiple="multiple" id="priority"><% for(var i=0;i<priority.length;i++) { %>
  <option value="<%=priority[i].id %>"><%=priority[i].description1%></option>
   <%}%>
  </select>
  <select style="color: black" multiple="multiple" id="severity"><% for(var i=0;i<severity.length;i++) { %>
   <option value="<%=severity[i].id %>" ><%=severity[i].description1%></option>
  <%}%>
  </select>
  <select style="color: black" multiple="multiple" id="technology"><% for(var i=0;i<technology.length;i++) { %>
  <option value="<%=technology[i].id %>" ><%=technology[i].description1%></option>
  <%}%>
  </select>
  <input type="text" class="form-control input-sm" id="esteffort">
  <input type="text" class="form-control input-sm" id="acteffort">
  <select style="color: black" multiple="multiple" id="assingedto">
     <%for(var i=0;i<allusers.length;i++) {%>
  <option  value="<%=allusers[i].userId%>" ><%=allusers[i].Name%></option>
  <%}%>
  </select>
  <input type="text" class="form-control input-sm" id="createdate">
  <input type="text" class="form-control input-sm" id="closedate">
</div>

            <table id="data_table" class="nowrap display table-striped table-bordered"   cellspacing="0" width="100%" style="ALIGN-CONTENT: CENTER;">
                <thead>
                <tr>

                    <th>S.No. </th>
                    
                   <th>Bug ID</th>
                    <th id='column-header-1' >Title<div id='column-header-1-sizer'></div></th>
                    <th id='column-header-2' >Project<div id='column-header-2-sizer'></div></th>
                    <th id='column-header-3' >Status<div id='column-header-3-sizer'></div></th>
                    <th id='column-header-4' >Priority<div id='column-header-4-sizer'></div></th>
                    <th id='column-header-5' >Severity<div id='column-header-5-sizer'></div></th>
                    <th id='column-header-6' >Technology<div id='column-header-6-sizer'></div></th>
                    <th id='column-header-7' >Esti. Effort<div id='column-header-7-sizer'></div></th>
                    <th id='column-header-8' >Actual Effort<div id='column-header-8-sizer'></div></th>
                    <th id='column-header-9' >Assinged To<div id='column-header-9-sizer'></div></th>
                    <th id='column-header-10' >Created Date<div id='column-header-10-sizer'></div></th>
                    <th id='column-header-11' >Closure Date<div id='column-header-11-sizer'></div></th>
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
              </tr>
                 
                  
                  <tr id="advanceSearch" class = "hide">
                 
                   <td> </td>
                  
                    <td>
                     
<<<<<<< HEAD
						</div>
                    <input type="text" name="bugId" style="border:none;width: 77px;color: black;margin-left: -11px;height: 18px;margin-top: 23px;"></td>
                    <td>
                    
                    <input type="text" name="title" style="border:none;width: 77px;color: black;margin-left: -11px;height: 18px;margin-top: 23px;"></td>
                    <td>
                    <div  id="project" style="margin-left: -3px;" >
							<input type="radio" name="projectis" checked="true" value="in" id="prois">Is <input type="radio" name="projectis" value="not in" id="proisnot">Is Not
						</div>
=======
            
                    <input type="text" class="form-control input-sm" name="bugId"></td>
                    <td>
                    
                    <input type="text" class="form-control input-sm" name="title1" style="min-width: 100px"></td>
                    <td>
                    <!-- <div  id="project" >
                      <input type="radio" name="projectis" value="in" checked>Is <input type="radio" name="projectis" value="not in">Is Not
                    </div> -->
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                    <select style="color: black" id="projects1" multiple="multiple" name="project"><% for(var i=0;i<project.length;i++) { %>
                    <option value="<%=project[i].id%>"><%=project[i].projectTitle%></option>
                    <%}%></select>
                      
                    </td>
                    <td>
<<<<<<< HEAD
                      <div id="status" style="margin-left: -3px;"> 
							<input type="radio" name="statusis" checked="true" value="in" id="statusis">Is
							<input type="radio" name="statusis" value="not in" id="statusisnot">Is Not
						</div>
                    <select style="color: black" id="status1" multiple="multiple" name="status">
                    	<% for(var i=0;i<status.length;i++) { %>
                    	<option value="<%=status[i].id%>"><%=status[i].description1%></option>
                    	<%}%>
=======
                      <!-- <div id="status"> 
                        <input type="radio" name="statusis" value="in" checked>Is
                        <input type="radio" name="statusis" value="not in">Is Not
                      </div> -->
                    <select style="color: black" id="status1" multiple="multiple" name="status">
                      <% for(var i=0;i<status.length;i++) { %>
                      <option value="<%=status[i].id%>"><%=status[i].description1%></option>
                      <%}%>
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                        </select>
                       
                    </td>
                    <td>
<<<<<<< HEAD
                    <div id="priority" style="margin-left: -3px;">
							<input type="radio" name="priorityis" checked="true" value="in" id="priois">Is<input type="radio" name="priorityis" value="not in" id="proisnot">Is Not
						</div>
=======
                    <!-- <div id="priority">
                      <input type="radio" name="priorityis" value="in" checked>Is<input type="radio" name="priorityis" value="not in">Is Not
                    </div> -->
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                    <select style="color: black" id="priority1" multiple="multiple" name="priority"><% for(var i=0;i<priority.length;i++) { %>
                    <option value="<%=priority[i].id %>"><%=priority[i].description1%></option>
                     <%}%>
                    </select>
                    
                    </td>
                    <td>
<<<<<<< HEAD
                    <div id="severity" style="margin-left: -3px;">
							<input type="radio" name="severityis" checked="true" value="in" id="sevis">Is<input type="radio" name="severityis" value="not in" id="sevisnot">Is Not
						</div>
=======
                    <!-- <div id="severity">
                      <input type="radio" name="severityis"" value="in" checked>Is<input type="radio" name="severityis" value="not in">Is Not
                    </div> -->
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                    <select style="color: black" id="severity1" multiple="multiple" name="severity"><% for(var i=0;i<severity.length;i++) { %>
                     <option value="<%=severity[i].id %>" ><%=severity[i].description1%></option>
                    <%}%>
                    </select>
                    
                    </td>
                    <td>
<<<<<<< HEAD
                    <div id="technology" style="margin-left: -3px;">
							<input type="radio" name="technologyis" checked="true" value="in" id="techis">Is <input type="radio" name="technologyis" value="not in" id="techisnot">Is Not
						</div>
=======
                    <!-- <div id="technology">
                      <input type="radio" name="technologyis" value="in" checked>Is <input type="radio" name="technologyis" value="not in">Is Not
                    </div> -->
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                    <select style="color: black" id="technology1" multiple="multiple" name="technology"><% for(var i=0;i<technology.length;i++) { %>
                    <option value="<%=technology[i].id %>" ><%=technology[i].description1%></option>
                    <%}%>
                    </select>
                    
                    </td>
                     
                    <td>
                     
<<<<<<< HEAD
                    <input type="text" style="border:none;width: 77px;color: black;height: 18px;margin-top: 23px"  name="esteffort"></td>
                    <td>
                     
                    <input type="text" style="border:none;width: 77px;color: black;height: 18px;margin-top: 23px" name="acteffort"></td>
                    <td>
                     <div id="assingedto" style="margin-left: -3px;">
							<input type="radio" name="assingedtois" checked="true" value="in" id="assis">Is<input type="radio" name="assingedtois" value="not in" id="assisnot">Is Not
					 </div>
                    <select style="border:none;width: 77px;color: black" id="assigned1" multiple="multiple" name="assingedto">
=======
                    <input type="text" class="form-control input-sm" name="esteffort"></td>
                    <td>
                     
                    <input type="text" class="form-control input-sm" name="acteffort"></td>
                    <td>
                     <!-- <div id="assingedto">
                        <input type="radio" name="assingedtois" value="in" checked>Is<input type="radio" name="assingedtois" value="not in">Is Not
                     </div> -->
                    <select style="color: black" id="assigned1" multiple="multiple" name="assingedto">
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                       <%for(var i=0;i<allusers.length;i++) {%>
                    <option  value="<%=allusers[i].userId%>" ><%=allusers[i].Name%></option>
                    <%}%>
                    </select>
                   
                    </td>
                    <td>
<<<<<<< HEAD
                    <input type="text" style="border:none;width: 77px;color: black;margin-top: 23px;" id="createdDate" name="createdate"></td>
                    <td>
                    <input type="text" style="border:none;width: 77px;color: black;margin-top: 23px;" id="closureDate" name="closedate"></td>
                    
                   <!-- </form>  -->

                </tr>
                  
                </thead>	
                <tbody id="bugDetails">
               
                 <% var c=0;
						 for(var j=0;j<bug.length;j++){   %>
                        <tr class="rows" id="vbug-sbox_<%=j%>" checked="true" onclick="showdetails(<%=bug[j].id%>,<%=j%>)">
                            <td align="center">
								<%=++c%>
                            </td>
                            <td class="col-md-1" align="center" style="width:84px">
                               <span><%=bug[j].id%></span> 
                            </td>
                            <td class="col-md-2">
                                <input type="hidden" id="hiddentitle<%=j%>" onchange="updatebugdetails(<%=bug[j].id%>,this,'bugTitle')" value="<%=bug[j].bugTitle%>">
                                <input type="text" id="bugtitle<%=j%>" style="width:100%;background-color:none;border:none" maxlength="75" onchange=" updatebugdetails(<%=bug[j].id%>,this,'bugTitle',<%=j%>)" value="<%=bug[j].bugTitle%>">
                            </td>
                            <td>
                                <span><%=bug[j].projectTitle%></span>
                            </td>
                            <td class="col-md-1">
                        <select  class="select-vbug"  onchange="updatebugdetails(<%=bug[j].id%>,this,'status')">
             						<%  for(var i=0;i<status.length;i++) { %>
									<% if(status[i].description1 != 'Close'){%>            					
                    				<option value="<%=status[i].id%>" <%if(bug[j].status== status[i].id){%> selected <%}%>>
										<%=status[i].description1%>    
                    				</option> 
                    				<%} else {%>

                    					 <%if(status[i].description1 == 'Close' && (  bug[j].createdBy ==userid || roleid==1)){ console.log("for close");%>

									<option value="<%=status[i].id%>" <%if(bug[j].status == status[i].id){%> selected <%}%>>
										<%=status[i].description1%>    
                    				</option> 
                    				   	<%}       
                    				   else{  if(status[i].description1 == 'Close'){%>
                                <option disabled value="<%=status[i].id%>" <%if(bug[j].status == status[i].id){%> selected <%}%>>
                    <%=status[i].description1%>    
                            </option> 
                        
										<%}
                      }
                      }
                      }%>
               					</select> 
                            </td>
                            <td>
                            	<select class="select-vbug" onchange="updatebugdetails(<%=bug[j].id%>,this,'priority')">
                					<% for(var i=0;i<priority.length;i++) { %>
               						<option value="<%=priority[i].id %>" <%if(bug[j].priority == priority[i].id){%> selected <%}%>>
									<%=priority[i].description1%>    
                					</option>
                					<%}%>
                				</select>
                            </td>
                            <td>
                            	<select class="select-vbug" onchange="updatebugdetails(<%=bug[j].id%>,this,'severity')">
       	        					<% for(var i=0;i<severity.length;i++) { %>
                					<option value="<%=severity[i].id %>" <%if(bug[j].severity == severity[i].id){%> selected <%}%>>
										<%=severity[i].description1%>    
       	        					</option>
                					<%}%>
                				</select>
                            </td>
                            <td>
                            	<select class="select-vbug" onchange="updatebugdetails(<%=bug[j].id%>,this,'technology')">
                  					<% for(var i=0;i<technology.length;i++) { %>
                    				<option value="<%=technology[i].id %>" <%if(bug[j].technology== technology[i].id){%> selected <%}%> >
										<%=technology[i].description1%>    
                    				</option>
									<%}%>
                				</select>
                            </td>
                            
                                <td> 
                            	<input class=""  id='estimatedEffort+<%=j%>' onblur="updatebugdetails(<%=bug[j].id%>,this,'estimatedEffort',this.id,'<%=bug[j].enddate%>')" value="<%=bug[j].estimatedEffort%>" style="border:none;width: 25px;"  >
                            </td>
                                <td> 
                            	<input class=""  id='actualEffort+<%=j%>' onblur="updatebugdetails(<%=bug[j].id%>,this,'actualEffort',this.id,'<%=bug[j].enddate%>')" value="<%=bug[j].actualEffort%>" style="border:none;width: 25px;"  >
                            </td>
                            <td>
                            	<select style="width:70%" class="select-vbug" onchange="updatebugdetails(<%=bug[j].id%>,this,'assingedToUserId')">
                  					<%  for(var i=0;i<assingedto.length;i++) { %>
 									<% if(assingedto[i].projectId==bug[j].projectId){%>
                  					<option value="<%=assingedto[i].userId%>" <%if(bug[j].assingedToUserId==assingedto[i].userId){%> selected <%}%>>
							  		<%=assingedto[i].name%>   
                  					</option>
										<%}%>
											<%}%>
                				</select>
                            </td>
                            <td>
                            	<%=bug[j].startdate%>
                            </td>
                            <td>

 <input class="datepicker select-vbug11"  id='end+<%=j%>' onchange="updatebugdetails(<%=bug[j].id%>,this,'effectiveEndDate',this.id,'<%=bug[j].enddate%>')" style="border:none;width: 100%;" <% if(bug[j].enddate!='00/00/00'){%>value=<%=bug[j].enddate%> <%}else{%> value=''<%}%>>
                            </td>
                        </tr>

                        <%}%>   	
=======
                    <input type="text" class="form-control input-sm" id="createdDate" name="createdate"></td>
                    <td>
                    <input type="text" class="form-control input-sm" id="closureDate" name="closedate"></td>

                </tr>
                  
                </thead>  
                <tbody id="bugDetails">
              
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                </tbody>
            </table>
            </form>
            </div>
        </div>
<<<<<<< HEAD
		

		<div class="row secondry-color" style="width:98%;margin-left:1%;padding-top:5px;padding-bottom:1%;">
			<div class="col-md-12" style=" height:auto;width:100%;padding-right:0px;padding-left:0px" >
				<ul class="nav nav-tabs" style="background-color:none;font-size:13px">
					<li class="active"><a data-toggle="tab" href="#home">Description</a></li>
					<li><a data-toggle="tab" href="#menu1">Overview</a></li>
					<li><a data-toggle="tab" href="#menu2">Comment<sup id="commCount"></sup></a></li>
					<li><a data-toggle="tab" href="#menu3">Attachment<sup id="attCount"></sup></a></li> 
				</ul>
				<div class="tab-content" >

					<input type="hidden" name="bugidhidden" id="bugidhidden" value=""/>
					<div style="margin-left:-1%;width:102%" id="home" class="tab-pane fade in active">	
					 	<div class="row" style="margin-top:10px">
				    		<div class="col-md-1" style ="padding-left:2%;padding-top:5px;color:#f05f40;">Title:</div>
							<div class="col-md-2" id="title" style="padding-top:5px;font-size:12px"></div>
							<div class="col-md-2" style ="padding-left:2%;padding-top:5px;color:#f05f40;">Linked Task :</div>
							<div class="col-md-6">
							<select class="form-text-box" id="linkedTo" name="linkedTo">
							<option value="0">Select task</option>>
							<% for(var i=0;i<linkTo.length;i++) { %>
                    				<option value="<%=linkTo[i].id %>"><%=linkTo[i].name%>    
                    				</option>
									<%}%>
                			</select></div>
							<div class="col-md-1" style=";margin-left:-1%;padding-top:5px;">
								<button type="button" class="btn btn-primary btndesc hide" onclick="return updatebugdescription()"  style="float:right;height:auto;padding:3px 8px;margin-bottom:1%">Update</button>
							</div>
						</div>

				<input type="text" name="bugDescription" id="bugDescription" class="hide">
				<textarea style="float:left;width:101%"  maxlength="12000" id='description' class='form-control'></textarea>
				<div class="col-sm-12 text-center"><span class="error" id="errorBugDesc"></span><span class="success" id="successBugDesc"></span></div>
					</div>
					<div id="menu1" style="margin-left:-1%;width:102%" class="tab-pane fade">
						<div id="overview" style="margin-bottom:1%;margin-top:10px"></div>
					</div>
					<div id="menu2" style="margin-left:-1%;width:102%" class="tab-pane fade">
					<div>
						<textarea maxlength="200" name='commenttext' style="margin-top:10px;resize:none" id='commenttext' class='form-control' rows=4 placeholder='Write your comment here ...'></textarea>
						<input type='button' class="btn" value='Add Comment' id="commentd" style='margin-top:1%;' onclick='addcomment()'>
						<div id="comment" style="overflow-y:auto;height:145px !important"></div>
					</div>
          <div class="col-sm-12 text-center"><span class="error" id="errorCommenttext"></span><span class="success" id="successCommenttext"></span></div>
					</div>
					<div id="menu3" style="margin-left:-1%;width:102%" class="tab-pane fade">
						<div class="" style="margin-top:20px;margin-bottom:50px">
							<label class="" style="font-size:14px;color:#f05f40;margin-left:1.5%;">Upload File </label>
					  		<form  id="form123" method="post" style="margin-left:1%;" enctype="multipart/form-data" name="comment">
					  			<input type="file" id="fupUploadSheet" name="addBugAttachment" class="upload" onchange="UploadSheet()"/>
					  			(Max. Size:2Mb)
					  			
							</form> 

						</div>
							<div id="attachment"><p></p></div>				  
					</div>
 
				</div>
			</div>
		</div>
		</div>		

	<%include ../partials/footer.ejs%>

 
 <script> 

 


        $('body').on('focus',".select-vbug11", function(){
 
 
 $(this).datetimepicker({
                 timepicker: false,
                format: 'm/d/y',
               
            });});
=======
    

    <div class="row secondry-color" style="padding: 10px">
      <div class="col-md-12" style=" height:auto;width:100%;padding-right:0px;padding-left:0px" >
        <ul class="nav nav-pills" style="background-color:none;font-size:13px">
          <li class="active"><a data-toggle="tab" href="#home">Description</a></li>
          <li><a data-toggle="tab" href="#menu1">Overview</a></li>
          <li><a data-toggle="tab" href="#menu2">Comment<span id="commCount" class="label label-success"></span></a></li>
          <li><a data-toggle="tab" href="#menu3">Attachment<span id="attCount" class="label label-success"></span></a></li> 
        </ul>
        <div class="tab-content">
          
          <input type="hidden" name="bugidhidden" id="bugidhidden" value=""/>
          <div id="home" class="tab-pane fade in active">  
          <div class="row" style="padding: 10px 5px">
            <div class="col-lg-3 col-md-3 col-sm-3" style="padding-top: 7px;">
                <span style ="color:#f05f40;">Title: </span>
                <span id="title"></span>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-3" style="padding-top: 7px;">
              <span style ="color:#f05f40;"> Raised By: </span>
              <span id="Raised_name"><span id="asdf"></span></span>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6" id="tr-linkto">
              <div class="col-lg-3 col-md-3 col-sm-3" style="color:#f05f40;padding-top: 7px;padding-left: 0">Linked Task :</div>
              <div class="col-lg-9 col-md-9 col-sm-9" style="padding-left: 0">
                <select class="form-control" id="linkedTo" name="linkedTo" >
                    <option value="0">Select task</option>>
            <% for(var i=0;i<linkTo.length;i++) { %>
                    <option value="<%=linkTo[i].id %>"><%=linkTo[i].name%></option>
                <%}%>
                </select>
              </div>
            </div>
         </div>

        <input type="text" name="bugDescription" id="bugDescription" class="hide">
        <textarea maxlength="12000" id='description' class='form-control'></textarea>
        <div class="col-sm-12 text-center"><span class="error" id="errorBugDesc"></span><span class="success" id="successBugDesc"></span></div>
          <div style="text-align: center;">
            <button type="button" class="btn btn-primary " onclick="return updatebugdescription()">Update</button>
          </div>
          </div>
      
          <div id="menu1" class="tab-pane fade">
            <div id="overview" class="row" style="padding: 10px 5px"></div>
          </div>
          <div id="menu2" class="tab-pane fade">
          <div>
            <textarea maxlength="200" name='commenttext' style="margin-top:10px;resize:none" id='commenttext' class='form-control' rows=4 placeholder='Write your comment here ...'></textarea>
            <input type='button' class="btn" value='Add Comment' id="commentd" style='margin: 10px 0;' onclick='addcomment()'>
            <div id="comment" style="overflow-y:auto;max-height:145px !important"></div>
          </div>
          <div class="col-sm-12 text-center"><span class="error" id="errorCommenttext"></span><span class="success" id="successCommenttext"></span></div>
          </div>
          <div id="menu3" class="tab-pane fade">
            <div class="" style="margin-top:20px;margin-bottom:50px">
              <label class="" style="font-size:14px;color:#f05f40;margin-left:1.5%;">Upload File </label>
                <form  id="form123" method="post" style="margin-left:1%;" enctype="multipart/form-data" name="comment">
                  <input type="file" id="fupUploadSheet" name="addBugAttachment" class="upload" onchange="UploadSheet()"/>
                  (Max. Size:2Mb)
                  
              </form> 

            </div>
              <div id="attachment"><p></p></div>          
          </div>
 
        </div>
      </div>
    </div>
    </div>    

  <%include ../partials/footer.ejs%>
 
 <script> 


        // $('body').on('focus',".select-vbug11", function(){
        //     $(this).datetimepicker({
        //          timepicker: false,
        //         format: 'm/d/y',
        //     });
        // });
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd

      function BugFilter()
      {

      }
          
function checkedBox(){
var array = [];
var radio=[];
    $('.checkl  option:selected').each(function() {
        array.push($(this).attr("id"));
    });
<<<<<<< HEAD
  
    $('.checkl  :radio:checked').each(function() {
       radio.push($(this).attr("id")); 
    });
    
    array.push.apply(array,radio); 
	    $("#allSelected").val(array); 
	return true;

}

 	$(document).ready(function(){ 
             
=======
    $('.checkl  :radio:checked').each(function() {
       radio.push($(this).attr("id")); 
    });
    array.push.apply(array,radio); 
      $("#allSelected").val(array); 
  return true;

}

  $(document).ready(function(){

>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
$('#hideColumnsId').tagger({
        "fieldWidth":"20em", 
        displayHierarchy: false
      , indentMultiplier: 2, baseURL: './img/'
       , placeholder: 'Select Columns to Hide',

      });


   $('#projects1').change(function() { 
                 }).multipleSelect({
<<<<<<< HEAD
                     width: '100%'
=======
                     width: '100%',
                     minimumCountSelected:1
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                }); 

   $('#status1').change(function() { 
                 }).multipleSelect({
<<<<<<< HEAD
                     width: '100%'
                }); 
   $('#priority1').change(function() { 
                 }).multipleSelect({
                     width: '100%'
=======
                     width: '100%',
                     minimumCountSelected:1
                }); 
   $('#priority1').change(function() { 
                 }).multipleSelect({
                     width: '100%',
                     minimumCountSelected:1
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                }); 
   
    
    $('#severity1').change(function() { 
                 }).multipleSelect({
<<<<<<< HEAD
                     width: '100%'
=======
                     width: '100%',
                     minimumCountSelected:1
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                }); 
   
    $('#technology1').change(function() { 
                 }).multipleSelect({
<<<<<<< HEAD
                     width: '100%'
=======
                     width: '100%',
                     minimumCountSelected:1
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                }); 
                  
    $('#assigned1').change(function() { 
                 }).multipleSelect({
<<<<<<< HEAD
                     width: '100%'
                }); 
             jQuery('#createdDate').datetimepicker({
                            timepicker: false,
                            format: 'd/m/Y'
                        });
               jQuery('#closureDate').datetimepicker({
                            timepicker: false,
                            format: 'd/m/Y'
=======
                     width: '100%',
                     minimumCountSelected:1
                }); 
             jQuery('#createdDate').datetimepicker({
                            timepicker: false,
                            format: 'd/m/Y',
                            scrollMonth : false,
        scrollInput : false
                        });
               jQuery('#closureDate').datetimepicker({
                            timepicker: false,
                            format: 'd/m/Y',
                            scrollMonth : false,
        scrollInput : false
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
                        });
                      $(function() {
  var thHeight = $("table#data_table th:first").height();
  $("table#data_table th").resizable({
      handles: "e",
      minHeight: thHeight,
      maxHeight: thHeight,
      minWidth: 40,
      resize: function (event, ui) {
        var sizerID = "#" + $(event.target).attr("id") + "-sizer";
        $(sizerID).width(ui.size.width);
      }
  });
});
<<<<<<< HEAD
   otable = $("#data_table").DataTable({ 
                "info":false,
                "bSort":false,
                "autoWidth": true,
                "lengthMenu":[[5,10,20,-1],[5,10,20,"All"]],
                "columnDefs": [  
                                {"targets": 0,"width": "20px"},
						        {"targets": 2,"width": "50px"},
						        {"targets": [8,9,10,11],"width": "25px"},
						        {"targets": [3,4,5,6,7],"width": "30px"}
						       ]         
            });
 		      

   
 		$("#searchbox").keyup(function() {
        otable.search(this.value).draw();

      }); 
 		 otable.$('tr:first').click();
 		$('.se-pre-con').fadeOut('slow'); 
		$('#download').removeClass("hide");
		$('#downloadL').removeClass("hide");

		var newArr="<%=showSelect%>".split(",");
	  
		$("input:radio").each(function () {
			var currid=$(this).attr("id");
			if(newArr.indexOf(currid)!=-1){
				$(this).attr("checked",true);
			}
		});

 
		document.getElementById("myfilterform").reset();  
		$("#pro_93").addClass('selected');
 		 $('.viewbug-img').addClass('active');
 		 
 		$('.select-vbug').css('cursor', 'pointer');
 

	
      

		//....................Side filter...................

 		$('.slider-arrow').click(function() {
			if ($(this).hasClass('show')) {
        		$(".slider-arrow, .slidingpanel").animate({
          			left: "+=20%"
        		},
        		700, function () {
          			// Animation complete.
          		});
          		$(this).html('Filter &laquo;').removeClass('show').addClass('hide1');
      		} else 
      		{
        		$(".slider-arrow, .slidingpanel").animate({
        			left: "-=20%"
        		},700, function () {
          			// Animation complete.
          			});
          		$(this).html('&laquo; Filter').removeClass('hide1').addClass('show');
        	}
    	});
    	var todate=new Date();
    	/*alert(todate);*/
    	 $(".datepicker").datetimepicker({
                 timepicker: false,
                format: 'm/d/y',
                minDate:todate
            });
		//$('.datepicker').datepicker();
 	});

	tinymce.init({ menubar:false,
        selector: '#description',
        width: "100%",
        toolbar:'undo redo | styleselect | bold italic | bullist | numlist'
    });	 
	
  	//.........................Re Show  comment on comment button click................................
  	function showcomment(data) {
    $('#comment').html(''); 
    $('#commCount').html(data[0].length);
    var com='';
		for(var i=(data[0].length)-1;i>=0;i--) {
			data[0][i].createdDate=new Date(data[0][i].createdDate);
			var str=data[0][i].createdDate.toString();
			com=com+"<div class='comment-border' style='vertical-align:bottom;background-color:#c7defe;margin:1%;'><div style='background-color:#F0FAFF;width:100%'><div style='font-size:10px;float:left;padding-left:20px'>"+"  "+"</div><div style='font-style:italic;padding-left1%;'> By : "+data[0][i].firstName+":"+str.slice(0,-8)+"</div></div><div style='float:left;padding-left:20px;width: 100%;background-color:#C7DEFE;max-height:100px; word-wrap: break-word;'>"+data[0][i].comments+"</div><br><div style='width:100%'></div></div>";
		}
		  $('#comment').html(com);
	  }
		
	function showattachment(data) {	
	  	var att='';
			$('#attCount').html(data.length); 
		for(var i=(data.length)-1;i>=0;i--){ 
			var deleteBtn=''
			  if(data[i].userId=='<%=userid%>' || '<%=roleid%>'==1)
				{
					deleteBtn="<span class='glyphicon glyphicon-trash' style='float:right;margin:6px' title='Delete' onclick='deleteAttach("+data[i].id+")'></span>";
				}
				var dat=(new Date(data[i].createdDate).toString());
				dat=dat.slice(0,24);
			att=att+"<div class='border-box hov-shadow'style='width:130px;float:left;margin-left:10px' id='"+data[i].id+"'><a href='"+data[i].orignalFilePath.replace('/root/fusion/public/',' ')+"' download ><img src='"+data[i].orignalFilePath.replace('/root/fusion/public/',' ')+"' style='width:100px;height:100px'></a>"+deleteBtn+"<div style='color:grey;font-size:10px'>Added by:"+data[i].firstName+" On:"+dat+"</div></div>"
		 
		}
		$('#attachment').html(att);
	}
	function deleteAttach(attid){  
		if(confirm("You Want to delete this attachment?")){
		$.ajax({
			data: {"aatachId":attid},
			url: '/deleteBugAttach',
			method: 'post',
			success: function(data) {
				$("#"+attid).html('');
				$("#"+attid).attr("class",'');
				$("#"+attid).attr("style",'');
				alert("Attachment deleted Successfuly!");
				var count=$('#attCount').text();
				$('#attCount').html(count-1);
			}
		});
	}
	}

//.............save/add comment to database......................			
  	function addcomment() { 		 
    resetError();  
    var successCommenttext = $('#successCommenttext');
    var errorCommenttext = $('#errorCommenttext');
		if (!$.trim($("#commenttext").val())){
			errorCommenttext.text("please enter valid comment");
			return false;
		} else
		{	var comm={
				data: {comment:$('#commenttext').val(),bugid:$("#bugidhidden").val()},
				url: '/addComment',
				method: 'POST',
				dataType: 'JSON',
				success:function(data){
					if(data.length>0)
					{ 
						showcomment(data);
					}
				},
			}
			$.ajax(comm);
		}
		$('#commenttext').val('');
	}
=======
   otable = $("#data_table").DataTable({
                "ajax": {
                    url: '/filterBug',
                    type: "POST",
                    "data": function ( d ) {
                          d.bugId = $("input#bugId").val();
                          d.priority = $("select#priority").val() ? $("select#priority").val().toString() :'';
                          d.severity = $("select#severity").val() ? $("select#severity").val().toString() :'';
                          d.assingedto = $("select#assingedto").val() ? $("select#assingedto").val().toString() :'';
                          d.technology = $("select#technology").val() ? $("select#technology").val().toString() :'';
                          d.project = $("select#project").val() ? $("select#project").val().toString() :'';
                          d.title = $("input#title1").val();
                          d.esteffort = $("input#esteffort").val();
                          d.acteffort = $("input#acteffort").val();
                          d.createdate = $("input#createdate").val();
                          d.closedate = $("input#closedate").val();
                          d.status = $("select#status").val() ? $("select#status").val().toString() :'';
                          // d.statusis = $("input#statusis']:checked").val();
                          d.statusis = 'in';
                          d.priorityis = 'in';
                          d.severityis = 'in';
                          d.assingedtois = 'in';
                          d.technologyis = 'in';
                          d.projectis = 'in';
                      }
                },
                // scrollX : true,
                // scrollY: 400,
                // scrollCollapse: true,
                "columns": [
                { "data": "Sno" },
                { "data": "id" },
                { "data": "bugTitle" },
                { "data": "projectTitle"},
                { "data": "status" },
                { "data": "priority" },
                { "data": "severity" },
                { "data": "technology"},
                { "data": "estimatedEffort" },
                { "data": "actualEffort" },
                { "data": "assingedToUserId" },
                { "data": "startdate"},
                { "data": "enddate" },
                ],
                "info":false,
                "aaSorting":[],
                "autoWidth": false,
                "bSortCellsTop":true,
                dom: 'Blfrtip',
                buttons: [
                    'colvis'
                ],
                "lengthMenu":[[5,10,20,10000],[5,10,20,"All"]],
                "processing": true,
                "serverSide": true,
              
                "fnDrawCallback": function (oSettings) {
                    $('.next').removeClass("disabled");
                    $(".next").click(function() {
                      $('.paginate_button.current').next().click();
                    });
                    $('tbody tr:first-child').click();

                    if($('.paginate_button').index($('.paginate_button.current')) ==$('.paginate_button').length-2){
                      $('.paginate_button.next').addClass('disabled');
                    }
                    else{
                        $('.paginate_button.next').removeClass('disabled');
                    }
                    $('.datepicker').datetimepicker({
                         timepicker: false,
                        format: 'd/m/Y',
                        scrollMonth : false,
        scrollInput : false
                    });
                },
                "fnRowCallback": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {
                  var page = this.fnPagingInfo().iPage;
                   var length = this.fnPagingInfo().iLength;
                   var index = (page * length + (iDisplayIndex +1));
                   $('td:eq(0)', nRow).html(index);
                  console.log(nRow, aData, iDisplayIndex, iDisplayIndexFull,index,'amit');
                },
                "columnDefs": [  
                    {
                        "orderable": false,
                        "targets": 0
                    },
                    {
                      "targets": 2,
                      "render": function(data,type,row){
                          var current_index = row.Sno - 1;
                          return '<input class="form-control input-sm" type="hidden" id="hiddentitle'+current_index+'" onchange="updatebugdetails('+row.id+',this,'+"'bugTitle'"+')" value="'+data+'">'+
                                '<input type="text" class="form-control input-sm" id="bugtitle'+current_index+'" style="min-width:100px;background-color:none;" maxlength="75" onchange=" updatebugdetails('+row.id+',this,'+"'bugTitle',"+current_index+')" value="'+data+'">';
                      }
                    },
                    {
                      "targets": 4,
                      // "width": "120px",
                      "render": function(data,type,row){
                       
                        if((<%-JSON.stringify(roleid)%> || '')==3)
                        {
                          $("#tr-linkto").addClass('hide');
                        }

                          var current_index = row.Sno - 1;
                          var tempStatus = <%-JSON.stringify(status)%>;
                        
                          var tempOptions='';
                          for(var i=0;i<tempStatus.length;i++) {
                            if(tempStatus[i].description1 != 'Close'){
                              if(data== tempStatus[i].id){
                                tempOptions = tempOptions +'<option value="'+tempStatus[i].id+'" selected>'+tempStatus[i].description1+'</option>';
                              }
                              else{
                                tempOptions = tempOptions +'<option value="'+tempStatus[i].id+'">'+tempStatus[i].description1+'</option>';
                              }
                                
                            }
                            else{

                              var tempUserid = <%-JSON.stringify(userid)%> || '' ;
                              var tempRoleid = <%-JSON.stringify(roleid)%> || '' ;
                            
                              if(tempStatus[i].description1 == 'Close' && (  row.createdBy ==tempUserid || tempRoleid==1)){

                              
                                if(data == tempStatus[i].id){
                                  tempOptions = tempOptions +'<option value="'+tempStatus[i].id+'" selected>'+tempStatus[i].description1+'</option>';
                                }
                                else
                                {
                                 tempOptions = tempOptions +'<option value="'+tempStatus[i].id+'" >'+tempStatus[i].description1+'</option>'; 
                                }
                              }
                              else{
                                if(tempStatus[i].description1 == 'Close'){
                                  if(data == tempStatus[i].id){
                                    tempOptions = tempOptions +'<option disabled value="'+tempStatus[i].id+'" selected>'+tempStatus[i].description1+'</option>';
                                  }
                                  else{
                                    tempOptions = tempOptions +'<option disabled value="'+tempStatus[i].id+'">'+tempStatus[i].description1+'</option>';
                                  }
                                }
                              }
                              
                            }
                          }

                          return '<select class="select-vbug form-control input-sm" onchange="updatebugdetails('+row.id+',this,'+"'status'"+')">'+tempOptions+
                          
                        '</select>';
                      }
                    },
                    {
                      "targets": 5,
                      // "width": "120px",
                      "render": function(data,type,row){
                          var current_index = row.Sno - 1;
                          var tempPriorities = <%-JSON.stringify(priority)%>;
                          var tempOptions='';
                          for(var i=0;i<tempPriorities.length;i++) {
                            if(data == tempPriorities[i].id){
                                tempOptions = tempOptions +'<option value="'+tempPriorities[i].id+'" selected>'+tempPriorities[i].description1+'</option>';
                            }
                            else{
                                tempOptions = tempOptions +'<option value="'+tempPriorities[i].id+'">'+tempPriorities[i].description1+'</option>';                        
                            }
                          }

                          return '<select class="select-vbug form-control input-sm" onchange="updatebugdetails('+row.id+',this,'+"'priority'"+')">'+tempOptions+
                          
                        '</select>';
                      }
                    },
                    {
                      "targets": 6,
                      "width": "120px",
                      "render": function(data,type,row){
                          var current_index = row.Sno - 1;
                          var tempSeverities = <%-JSON.stringify(severity)%>;
                          var tempOptions='';
                          for(var i=0;i<tempSeverities.length;i++) {
                            if(data == tempSeverities[i].id){
                                tempOptions = tempOptions +'<option value="'+tempSeverities[i].id+'" selected>'+tempSeverities[i].description1+'</option>';
                            }
                            else{
                                tempOptions = tempOptions +'<option value="'+tempSeverities[i].id+'">'+tempSeverities[i].description1+'</option>';                        
                            }
                          }

                          return '<select class="select-vbug form-control input-sm" onchange="updatebugdetails('+row.id+',this,'+"'severity'"+')">'+tempOptions+
                          
                        '</select>';
                      }
                    },
                    {
                      "targets": 7,
                      "width": "120px",
                      "render": function(data,type,row){
                          var current_index = row.Sno - 1;
                          var tempTechnologies = <%-JSON.stringify(technology)%>;
                          var tempOptions='';
                          for(var i=0;i<tempTechnologies.length;i++) {
                            if(data == tempTechnologies[i].id){
                                tempOptions = tempOptions +'<option value="'+tempTechnologies[i].id+'" selected>'+tempTechnologies[i].description1+'</option>';
                            }
                            else{
                                tempOptions = tempOptions +'<option value="'+tempTechnologies[i].id+'">'+tempTechnologies[i].description1+'</option>';                        
                            }
                          }

                          return '<select class="select-vbug form-control input-sm" onchange="updatebugdetails('+row.id+',this,'+"'technology'"+')">'+tempOptions+
                          
                        '</select>';
                      }
                    },
                    {
                      "targets": 8,
                      "render": function(data,type,row){
                          var current_index = row.Sno - 1;

                          return '<input class="form-control input-sm"  id="estimatedEffort'+current_index+'" onblur="updatebugdetails('+row.id+',this,'+"'estimatedEffort'"+',this.id,'+"'"+row.enddate+"'"+')" value="'+data+'" style="min-width: 70px;"  >';
                      }
                    },
                    {
                      "targets": 9,
                      "render": function(data,type,row){
                          var current_index = row.Sno - 1;

                          return '<input class="form-control input-sm"  id="actualEffort'+current_index+'" onblur="updatebugdetails('+row.id+',this,'+"'actualEffort'"+',this.id,'+row.enddate+')" value="'+data+'" style="min-width: 70px;"  >';
                      }
                    },
                    {
                      "targets": 10,
                      "width": "120px",
                      "render": function(data,type,row){
                          var current_index = row.Sno - 1;
                          var tempAssingedto = <%-JSON.stringify(assingedto)%>;
                          var tempOptions='';
                          for(var i=0;i<tempAssingedto.length;i++) {
                            if(tempAssingedto[i].projectId==row.projectId){
                              if(data==tempAssingedto[i].userId){
                                tempOptions = tempOptions +'<option value="'+tempAssingedto[i].userId+'" selected>'+tempAssingedto[i].name+'</option>';
                              }
                              else{
                                tempOptions = tempOptions +'<option value="'+tempAssingedto[i].userId+'">'+tempAssingedto[i].name+'</option>';
                              }
                                
                            }
                          }

                          return '<select style="width:70%" class="select-vbug form-control input-sm" onchange="updatebugdetails('+row.id+',this,'+"'assingedToUserId'"+')">'+tempOptions+'</select>';
                        }
                    },
                    {
                      "targets": 12,
                      "render": function(data,type,row){
                          var current_index = row.Sno - 1;
                          var tempEnddate;
                          if(data !='00/00/00'){
                            tempEnddate = data;
                          }
                          else{
                            tempEnddate = '';
                          }

                          return '<input type="text"class="datepicker select-vbug11 form-control input-sm"  id="end'+current_index+'" onchange="updatebugdetails('+row.id+',this,'+"'effectiveEndDate'"+',this.id,'+"'"+tempEnddate+"'"+')" style="width: 100%;" value="'+tempEnddate+'"">';
                      }
                    },
                    // {"targets": [8,9,10,11],"width": "25px"},
                    // {"targets": [3,4,5,6,7,10],"width": "120px"}
                   ]         
            });
otable.columns.adjust().draw();
$('#data_table tbody').on('click', 'tr', function () {
    var data = otable.row( this ).data();
    $('#bugDetails tr').css({"background-color":"white"});
    $(this).css({"background-color":"#c5c5c5"});
    if(data){
      showdetails(data.id,data.Sno -1);
    }
});

$("input:checkbox:not(:checked)").each(function() {
    var column = otable.column( $(this).attr("name") );
    $(column).hide();
});

$("input:checkbox").click(function(){
    var column =  otable.column( $(this).attr("name") );
    $(column).toggle();
});
 

           
    $("#searchbox").keyup(function() {
        otable.search(this.value).draw();

      }); 

     otable.$('tr:first').click();
     setTimeout(function(){
      otable.ajax.reload();
     },300);
    
    $('.se-pre-con').fadeOut('slow'); 
    $('#download').removeClass("hide");
    $('#downloadL').removeClass("hide");

    var newArr="<%=showSelect%>".split(",");
    
    $("input:radio").each(function () {
      var currid=$(this).attr("id");
      if(newArr.indexOf(currid)!=-1){
        $(this).attr("checked",true);
      }
    });

 
    document.getElementById("myfilterform").reset();  
    $("#pro_93").addClass('selected');
     $('.viewbug-img').addClass('active');
     
    $('.select-vbug').css('cursor', 'pointer');
 

  
      


    $('.slider-arrow').click(function() {
      if ($(this).hasClass('show')) {
            $(".slider-arrow, .slidingpanel").animate({
                left: "+=20%"
            },
            700, function () {
         
              });
              $(this).html('Filter &laquo;').removeClass('show').addClass('hide1');
          } else 
          {
            $(".slider-arrow, .slidingpanel").animate({
              left: "-=20%"
            },700, function () {
           
                });
              $(this).html('&laquo; Filter').removeClass('hide1').addClass('show');
          }
      });
      // var todate=new Date();
     
      //  $(".datepicker").datetimepicker({
      //            timepicker: false,
      //           format: 'm/d/y',
      //           minDate:todate
      //       });
   
  });

  tinymce.init({ menubar:false,
        selector: '#description',
        width: "100%",
     
    });  
  
    //.........................Re Show  comment on comment button click................................
    function showcomment(data) {
    $('#comment').html(''); 
    $('#commCount').html(data[0].length);
    var com='';
    for(var i=(data[0].length)-1;i>=0;i--) {
      data[0][i].createdDate=new Date(data[0][i].createdDate);
      var str=data[0][i].createdDate.toString();

      com=com+'<div class="comment-divs" style="border: solid thin #aaa;padding: 8px;border-radius: 5px;margin-bottom: 10px;"><i class="fa fa-user" style="color:#f05f40"></i> '+data[0][i].firstName+'<br><i class="fa fa-clock-o" style="color:#f05f40"></i> '+str.slice(0,-8)+'<div>'+data[0][i].comments+'</div></div>';

     
    }
      $('#comment').html(com);
    }
    
  function showattachment(data) { 
      var att='';
      $('#attCount').html(data.length); 
    for(var i=(data.length)-1;i>=0;i--){ 
      var deleteBtn=''
        if(data[i].userId=='<%=userid%>' || '<%=roleid%>'==1)
        {
          deleteBtn="<span class='glyphicon glyphicon-trash' style='position:absolute;top:5px;right:5px;color:#f05f40' title='Delete' onclick='deleteAttach("+data[i].id+")'></span>";
        }
        var dat=(new Date(data[i].createdDate).toString());
        dat=dat.slice(0,24);

        att=att+'<div class="comment-divs" id="'+data[i].id+'" style="border: solid thin #aaa;padding: 8px;border-radius: 5px;margin-bottom: 10px;width: 250px;float:left;margin-right: 10px;position:relative"><i class="fa fa-user" style="color:#f05f40"></i> '+data[i].firstName+'<br><i class="fa fa-clock-o" style="color:#f05f40"></i> '+dat+'<div><a href="'+data[i].orignalFilePath.replace("/root/fusion/public/"," ")+'" download ><img src="'+data[i].orignalFilePath.replace('/root/fusion/public/',' ')+'" style="height:100px"></a></div>'+deleteBtn+'</div>';

 
     
    }
    $('#attachment').html(att);
  }
  function deleteAttach(attid){  
    if(confirm("You Want to delete this attachment?")){
    $.ajax({
      data: {"aatachId":attid},
      url: '/deleteBugAttach',
      method: 'post',
      success: function(data) {
      
        $("#"+attid).html('');
        $("#"+attid).attr("class",'');
        $("#"+attid).attr("style",'');
        alert("Attachment deleted Successfuly!");
        var count=$('#attCount').text();
        $('#attCount').html(count-1);
      }
    });
  }
  }

//.............save/add comment to database......................     
    function addcomment() {      
    resetError();  
    var successCommenttext = $('#successCommenttext');
    var errorCommenttext = $('#errorCommenttext');
    if (!$.trim($("#commenttext").val())){
      errorCommenttext.text("please enter valid comment");
      return false;
    } else
    { var comm={
        data: {comment:$('#commenttext').val(),bugid:$("#bugidhidden").val()},
        url: '/addComment',
        method: 'POST',
        dataType: 'JSON',
        success:function(data){
          if(data.length>0)
          { 
            showcomment(data);
          }
        },
      }
      $.ajax(comm);
    }
    $('#commenttext').val('');
  }
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd


//....................adding values to the respective DIV................
  
<<<<<<< HEAD
	function showdetails(bid,divId){
		//alert(bid);
		//$('.vbug-box').attr("color","yellow");
		//$('.vbug-box').css("border","none");
		//$("#vbug-sbox_"+divId).css("border-style","groove");
		  $(".rows").css({"background-color":"white"});
		$("#vbug-sbox_"+divId).css({"background-color":"#CBDDEA"});
		//alert("show details"+bid)
		$("#bugidhidden").val(bid);
		//alert($("#bugidhidden").val());
		$.ajax({
			data: {"bugid":bid},
			url: '/bugDetails',
			method: 'post',
			success: function(data) {
			console.log("bug info:",data);	 
				$('#title').html($("<label>"+data[0][0].bugTitle+"</label>"));
				$('#linkedTo').val(data[0][0].linkedTask);
				tinyMCE.activeEditor.setContent(data[0][0].bugDescription);
				/*if(!data[0][0].enddate){
					data[0][0].enddate="No End Date Assinged"
				}
				if(!data[0][0].CycleNo){
					data[0][0].CycleNo="No Cycle";
				}*/

var over='';
		over=over+"<table style='width:100%'><tr><td><label class='form-Label'>Project Title   : </label>"+data[0][0].projectTitle+"</td>";
		over=over+"<td><label class='form-Label'>Assinged To   : </label> "+data[0][0].firstName+"</td>";
		over=over+"<td><label class='form-Label'>Technology   : </label> "+data[0][0].technology+"</td>";
		over=over+"<td><label class='form-Label'>Bug Status   : </label> "+data[0][0].statusName+"</td></tr>";
		if(data[0][0].CycleNo){
		over=over+"<td><label class='form-Label'>Cycle  : </label> "+data[0][0].CycleNo+"</td>";
		}if(data[0][0].bugType){
			over=over+"<td><label class='form-Label'>Bug Type   : </label> "+data[0][0].bugType+"</td>";
		}if(data[0][0].detectedByName){
			over=over+"<td><label class='form-Label'>Detected By   : </label> "+data[0][0].detectedByName+"</td>";
		} if(data[0][0].enddate){
			over=over+"<td><label class='form-Label'>Tentative Clouser    : </label> "+data[0][0].enddate+"</td>"
		} 
		over=over+"</tr></table>";
		$("#overview").html(over);
 
				$('#comment').html('');
				$('#commCount').html(data[1].length);
				var com='';

				for(var i=(data[1].length)-1;i>=0;i--) { 
					data[1][i].createdDate=new Date(data[1][i].createdDate);
					var str=data[1][i].createdDate.toString();
				   com=   com+"<div class='comment-border' style='vertical-align:bottom;background-color:#c7defe;margin:1%'><div style='background-color:#F0FAFF;width:100%'><div style='font-size:10px;float:left;padding-left:20px'>"+"  "+"</div><div style='font-style:italic;padding-left:1%;'>By : "+data[1][i].firstName+":"+str.slice(0,-8)+"</div></div><div style='float:left;padding-left:20px;width: 100%;max-height:100px; word-wrap: break-word;background-color:#C7DEFE;'>"+data[1][i].comments+"</div><br><div style='width:100%'></div></div>";
				}  
				$('#comment').html(com); 
				$('#attachment').html('');
				$('#attCount').html(data[2].length);
			  var att='';
			 
					  
			  for(var i=(data[2].length)-1;i>=0;i--)
				{  
					 var deleteBtn=''
			  if(data[0][0].createdBy=='<%=userid%>' || '<%=roleid%>'==1)
				{
					deleteBtn="<span class='glyphicon glyphicon-trash' style='float:right;margin:6px' title='Delete' onclick='deleteAttach("+data[2][i].id+")'></span>";
				}
				var dat=(new Date(data[2][i].createdDate).toString());
				dat=dat.slice(0,24);
				  att=att+"<div class='border-box hov-shadow'style='width:130px;float:left;margin-left:10px' id='"+data[2][i].id+"'><a href='"+data[2][i].filePath.replace('/root/fusion/public/',' ')+"' download> <img src='"+data[2][i].filePath.replace('/root/fusion/public/',' ')+"' style='width:100px;height:100px'> </a>"+deleteBtn+"<div style='color:grey;font-size:10px'>Added by:"
					+data[2][i].firstName+" On:"
					+dat+"</div></div>";

					
				}
				$('#attachment').html(att);


			if(data[0][0].createdBy=='<%=userid%>' || '<%=roleid%>'==1)
			{
$(".btndesc").removeClass('hide');
					tinyMCE.get('description').getBody().setAttribute('contenteditable', true);

			}
			else{
				$(".btndesc").addClass('hide');
					tinyMCE.get('description').getBody().setAttribute('contenteditable', false);
			}

			},
			dataType: 'JSON',
		});
	} 


	// ............attechment start........................
	function UploadSheet(){
		//var data1=$('#fupUploadSheet').val();
		var input, file;
=======
  function showdetails(bid,divId){
    if(bid){
    
      $(".rows").css({"background-color":"white"});
    $("#vbug-sbox_"+divId).css({"background-color":"#c5c5c5"});
    
    $("#bugidhidden").val(bid);
   
    $.ajax({
      data: {"bugid":bid},
      url: '/bugDetails',
      method: 'post',
      success: function(data) {
      
        $('#title').html($("<label>"+data[0][0].bugTitle+"</label>"));
        $('#linkedTo').val(data[0][0].linkedTask);
        $('#asdf').text(data[0][0].createdByName);
       

        tinyMCE.activeEditor.setContent(data[0][0].bugDescription);
       

var over='';
    over=over+"<div class='col-lg-3 col-md-3 col-sm-3'><label style='color:#f05f40'>Project Title: </label> "+data[0][0].projectTitle+"</div>";
    over=over+"<div class='col-lg-3 col-md-3 col-sm-3'><label style='color:#f05f40'>Assinged To   : </label> "+data[0][0].firstName+"</div>";
    over=over+"<div class='col-lg-3 col-md-3 col-sm-3'><label style='color:#f05f40'>Technology   : </label> "+data[0][0].technology+"</div>";
    over=over+"<div class='col-lg-3 col-md-3 col-sm-3'><label style='color:#f05f40'>Bug Status   : </label> "+data[0][0].statusName+"</div>";
    if(data[0][0].CycleNo){
    over=over+"<div class='col-lg-3 col-md-3 col-sm-3'><label style='color:#f05f40'>Cycle  : </label> "+data[0][0].CycleNo+"</div>";
    }if(data[0][0].bugType){
      over=over+"<div class='col-lg-3 col-md-3 col-sm-3'><label style='color:#f05f40'>Bug Type   : </label> "+data[0][0].bugType+"</div>";
    }if(data[0][0].detectedByName){
      over=over+"<div class='col-lg-3 col-md-3 col-sm-3'><label style='color:#f05f40'>Detected By   : </label> "+data[0][0].detectedByName+"</div>";
    } if(data[0][0].enddate){
      over=over+"<div class='col-lg-3 col-md-3 col-sm-3'><label style='color:#f05f40'>Tentative Clouser    : </label> "+data[0][0].enddate+"</div>"
    }
    $("#overview").html(over);
 
        $('#comment').html('');
        $('#commCount').html(data[1].length);
        var com='';

        for(var i=(data[1].length)-1;i>=0;i--) { 
          data[1][i].createdDate=new Date(data[1][i].createdDate);
          var str=data[1][i].createdDate.toString();
          

           com=com+'<div class="comment-divs" style="border: solid thin #aaa;padding: 8px;border-radius: 5px;margin-bottom: 10px;"><i class="fa fa-user" style="color:#f05f40"></i> '+data[1][i].firstName+'<br><i class="fa fa-clock-o" style="color:#f05f40"></i> '+str.slice(0,-8)+'<div>'+data[1][i].comments+'</div></div>';
        }  
        $('#comment').html(com); 
        $('#attachment').html('');
        $('#attCount').html(data[2].length);
        var att='';
       
            
        for(var i=(data[2].length)-1;i>=0;i--)
        {  
           var deleteBtn=''
        if(data[0][0].createdBy=='<%=userid%>' || '<%=roleid%>'==1)
        {
          deleteBtn="<span class='glyphicon glyphicon-trash' style='position:absolute;top:5px;right:5px;color:#f05f40' title='Delete' onclick='deleteAttach("+data[2][i].id+")'></span>";
        }
        var dat=(new Date(data[2][i].createdDate).toString());
        dat=dat.slice(0,24);

          att=att+'<div class="comment-divs" id="'+data[2][i].id+'" style="border: solid thin #aaa;padding: 8px;border-radius: 5px;margin-bottom: 10px;width: 250px;float:left;margin-right: 10px;position:relative"><i class="fa fa-user" style="color:#f05f40"></i> '+data[2][i].firstName+'<br><i class="fa fa-clock-o" style="color:#f05f40"></i> '+dat+'<div><a href="'+data[2][i].filePath.replace("/root/fusion/public/"," ")+'" download ><img src="'+data[2][i].filePath.replace('/root/fusion/public/',' ')+'" style="height:100px"></a></div>'+deleteBtn+'</div>';
          
        }
        $('#attachment').html(att);


      if(data[0][0].createdBy=='<%=userid%>' || '<%=roleid%>'==1)
      {
$(".btndesc").removeClass('hide');
          tinyMCE.get('description').getBody().setAttribute('contenteditable', true);

      }
      else{
        $(".btndesc").addClass('hide');
          tinyMCE.get('description').getBody().setAttribute('contenteditable', false);
      }

      },
      dataType: 'JSON',
    });
 }
  } 


  // ............attechment start........................
  function UploadSheet(){
    
    var input, file;
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
            input = document.getElementById('fupUploadSheet');
            file = input.files[0];
             if(file.size>2097152){
                 alert("Error:File limit is 2 mb");
                 return false ;
            } 


<<<<<<< HEAD
		var data1 = new FormData($('#form123')[0]);
		var files = $("#fupUploadSheet").val();
    	var id1=$("#bugidhidden").val();
		data1.append('id',id1);
	
 	 	$.ajax({
  			url:'/bugAttachment',
  	 		method: 'POST',
    		data:data1,
    		contentType: false, 
   			processData: false,
			success: function(data) {
				alert("File uploaded successfully!");
				showattachment(data);
			},
			dataType: 'JSON',
		});
	}
	//....................Save bug details......................
 
	function updatebugdetails(bugid,e,type,id,endate){
 	 
if(type=='effectiveEndDate')
   {     
	var up ={
		data: {"bugid":bugid,"value":e.value,"colname":type},
			url: '/updatebugdetails',
			method: 'POST',
			success: function(data) {
				showdetails(bugid);
			 },
			dataType: 'JSON',
			};
			$.ajax(up);


			return;
}

	  	if ( e.value == null || e.value == ""|| e.value.trim().length < 1) {
	  		alert("Please enter a valid title for bug!"); 
	  		$('#bugtitle'+id).val($('#hiddentitle'+id).val());
	  	} else 
	  	{	
	  	if(type=='assingedToUserId'&&confirm("Are you sure you want to change the assinged to ?")){
	  		var up ={data: {"bugid":bugid,"value":e.value,"colname":type},
			url: '/updatebugdetails',
			method: 'POST',
			success: function(data) {
				showdetails(bugid);
			 },
			dataType: 'JSON',
			};
			$.ajax(up);
		}
		else{
	  		var up ={data: {"bugid":bugid,"value":e.value,"colname":type},
			url: '/updatebugdetails',
			method: 'POST',
			success: function(data) {
				showdetails(bugid);
			 },
			dataType: 'JSON',
			};
			$.ajax(up);
		}
		}
	}

	function updatebugdescription() {
=======
    var data1 = new FormData($('#form123')[0]);
    var files = $("#fupUploadSheet").val();
      var id1=$("#bugidhidden").val();
    data1.append('id',id1);
    $.ajax({
        url:'/bugAttachment',
        method: 'POST',
        data:data1,
        contentType: false, 
        processData: false,
      success: function(data) {
        alert("File uploaded successfully!");
        showattachment(data);
      },
      error: function(err) {
        alert(err.responseText);
      },
      dataType: 'JSON',
    });
  }
  //....................Save bug details......................
 
  function updatebugdetails(bugid,e,type,id,endate){

        //  if(isNaN(e.value)){
        //   e.value = "";
        //   }
        // else{
        //   e.value;
        //   }
      
if(type=='effectiveEndDate')
   {
    var tempdate = $(e).parent().prev().text();
    var open_date = new Date(tempdate.replace( /(\d{2})\/(\d{2})\/(\d{2})/, "$2/$1/$3"));
    var close_date = new Date(e.value.replace( /(\d{2})\/(\d{2})\/(\d{2})/, "$2/$1/$3"));
    console.log(open_date,close_date,e.value);
    var timeDiff = Math.floor(close_date.getTime() - open_date.getTime());
    var diffDays = Math.floor(timeDiff / (1000 * 3600 * 24)); 
    console.log(diffDays);
    if(diffDays <0){
      alert('Invalid Closure Date');
      $(e).val(endate);
    }
    else{
        var up ={
        data: {"bugid":bugid,"value":e.value,"colname":type},
          url: '/updatebugdetails',
          method: 'POST',
          success: function(data) {
            showdetails(bugid);
           },
          dataType: 'JSON',
          };
          $.ajax(up);
    }

      return;
}

      if (type=='bugTitle' && (e.value == null || e.value == ""|| e.value.trim().length < 1)) {
        
        toastr.options={
          "closeButton": true,
          "timeOut": "3000",
          "showMethod": "fadeIn",
          "hideMethod": "fadeOut",
          "opacity": 1
        };
        toastr.error('Please enter a valid title for bug!'); 
        $('#bugtitle'+id).val($('#hiddentitle'+id).val());
      } else 
      { 
      if(type=='assingedToUserId'){
        if(confirm("Are you sure you want to change the assinged to ?")){
          var up ={data: {"bugid":bugid,"value":e.value,"colname":type},
          url: '/updatebugdetails',
          method: 'POST',
          success: function(data) {
            showdetails(bugid);
           },
          dataType: 'JSON',
          };
          $.ajax(up);
        }
        else{
        }
        
    }
    else{
        var up ={data: {"bugid":bugid,"value":e.value,"colname":type},
      url: '/updatebugdetails',
      method: 'POST',
      success: function(data) {
        showdetails(bugid);
       },
      dataType: 'JSON',
      };
      $.ajax(up);
    }
    }
  }

  function updatebugdescription() {
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
      resetError();
      var errorBugDesc = $('#errorBugDesc');
      var successBugDesc = $('#successBugDesc');
      var ds=tinyMCE.activeEditor.getContent();
<<<<<<< HEAD
 			if(ds.trim().length<=0){
 				errorBugDesc.text("Please enter description");
 				return false;
 			}
 			if(ds.trim().length>12000){
 				errorBugDesc.text("Description length should't be more than 12000 characters");
 				return false;
 			}  
	 		$.ajax(
			{
				data: {
					"bugid":$("#bugidhidden").val(),
					"description": ds,
					"linkedTo":$("#linkedTo").val()
				},
				url: '/updatebugdescription',
				method: 'POST',
				success: function() {	
				successBugDesc.text("Bug description updated succesfully!");		
        commonTimeOut(successBugDesc);
				},			 
				dataType: 'JSON',
			});
 	} 

function exportBug()
{
	 $(".se-pre-con").fadeIn("slow");
=======
      if(ds.trim().length<=0){
        errorBugDesc.text("Please enter description");
        return false;
      }
      if(ds.trim().length>12000){
        errorBugDesc.text("Description length should't be more than 12000 characters");
        return false;
      }  
      $.ajax(
      {
        data: {
          "bugid":$("#bugidhidden").val(),
          "description": ds,
          "linkedTo":$("#linkedTo").val()
        },
        url: '/updatebugdescription',
        method: 'POST',
        success: function() { 
        successBugDesc.text("Bug description updated succesfully!");    
        commonTimeOut(successBugDesc);
        },       
        dataType: 'JSON',
      });
  } 

function exportBug()
{
   $(".se-pre-con").fadeIn("slow");
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
var header=['S.No.', 'Title', 'Project', 'Status', 'Priority', 'Severity', 'Technology', 'Assinged To', 'Start Date', 'End Date'];

var url = window.location.origin.split("/")[3] ? window.location.origin : window.location.origin + '/getAllBugtoexport';
$.ajax({
url: url,
method: 'POST',
data : {},
success: function(bugData) { 
bugData.unshift(header);
alasql("SELECT * INTO CSV('bug_Report.csv') FROM ?",[bugData]);
<<<<<<< HEAD
/*$(".se-pre-con").fadeOut("slow");
$("#btnDownloadbug").prop('disabled', false);*/
=======

>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd
},
dataType: 'JSON',
});   

$(".se-pre-con").fadeOut("slow");
}

 
function showhide(id) {
    var e = document.getElementById(id);
$(e).toggleClass("hide");     
 }

 function hidecol(){
  var a=[];
   a= $('#hideColumnsId').val();
   var table = $('#data_table').DataTable();

  for(var i=0;i<13;i++)
  {
    table.column(i).visible( true );  
 }

  for(var i=0;i<a.length;i++)
  {
    table.column(a[i]).visible( false );  
 }  
}
 function colHideOnChange(id) {
    var e = document.getElementById(id);
$(e).toggleClass("hide"); 

 }

<<<<<<< HEAD
	</script>
=======
  </script>
>>>>>>> 75266d9ffa5f22c97d091d4bb41cc7961557b2fd


</body>
</html>


